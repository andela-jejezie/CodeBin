/*! @license Firebase v1.2.0-beta.1 - License: https://www.firebase.com/terms/terms-of-service.html */ (function() {var h,aa=this;function m(a){return void 0!==a}function ba(){}function ca(a){a.Mb=function(){return a.ff?a.ff:a.ff=new a}}
function da(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function ea(a){return"array"==da(a)}function fa(a){var b=da(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ga(a){return"number"==typeof a}function ha(a){return"function"==da(a)}function ia(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b,c){return a.call.apply(a.bind,arguments)}
function ka(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka;return q.apply(null,arguments)}
function la(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var ma=Date.now||function(){return+new Date};function na(a,b){var c=a.split("."),d=aa;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&m(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function oa(a,b){function c(){}c.prototype=b.prototype;a.Ne=b.prototype;a.prototype=new c;a.zg=function(a,c,f){return b.prototype[c].apply(a,Array.prototype.slice.call(arguments,2))}};function t(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function u(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function pa(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function qa(a){var b={};pa(a,function(a,d){b[a]=d});return b};function ra(a){this.sc=a;this.Dd="firebase:"}h=ra.prototype;h.set=function(a,b){null==b?this.sc.removeItem(this.Dd+a):this.sc.setItem(this.Dd+a,v(b))};h.get=function(a){a=this.sc.getItem(this.Dd+a);return null==a?null:sa(a)};h.remove=function(a){this.sc.removeItem(this.Dd+a)};h.gf=!1;h.toString=function(){return this.sc.toString()};function ta(){this.la={}}ta.prototype.set=function(a,b){null==b?delete this.la[a]:this.la[a]=b};ta.prototype.get=function(a){return t(this.la,a)?this.la[a]:null};ta.prototype.remove=function(a){delete this.la[a]};ta.prototype.gf=!0;function ua(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new ra(b)}}catch(c){}return new ta}var va=ua("localStorage"),wa=ua("sessionStorage");function xa(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.Cb=b;this.zb=c;this.xg=d;this.Cd=e||"";this.Ma=va.get("host:"+a)||this.host}function ya(a,b){b!==a.Ma&&(a.Ma=b,"s-"===a.Ma.substr(0,2)&&va.set("host:"+a.host,a.Ma))}xa.prototype.toString=function(){var a=(this.Cb?"https://":"http://")+this.host;this.Cd&&(a+="<"+this.Cd+">");return a};function za(){this.Sa=-1};function Aa(){this.Sa=-1;this.Sa=64;this.T=[];this.Zd=[];this.Af=[];this.zd=[];this.zd[0]=128;for(var a=1;a<this.Sa;++a)this.zd[a]=0;this.Pd=this.Pb=0;this.reset()}oa(Aa,za);Aa.prototype.reset=function(){this.T[0]=1732584193;this.T[1]=4023233417;this.T[2]=2562383102;this.T[3]=271733878;this.T[4]=3285377520;this.Pd=this.Pb=0};
function Ba(a,b,c){c||(c=0);var d=a.Af;if(p(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.T[0];c=a.T[1];for(var g=a.T[2],k=a.T[3],l=a.T[4],n,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),n=1518500249):(f=c^g^k,n=1859775393):60>e?(f=c&g|k&(c|g),n=2400959708):(f=c^g^k,n=3395469782),f=(b<<
5|b>>>27)+f+l+n+d[e]&4294967295,l=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.T[0]=a.T[0]+b&4294967295;a.T[1]=a.T[1]+c&4294967295;a.T[2]=a.T[2]+g&4294967295;a.T[3]=a.T[3]+k&4294967295;a.T[4]=a.T[4]+l&4294967295}
Aa.prototype.update=function(a,b){m(b)||(b=a.length);for(var c=b-this.Sa,d=0,e=this.Zd,f=this.Pb;d<b;){if(0==f)for(;d<=c;)Ba(this,a,d),d+=this.Sa;if(p(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Sa){Ba(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Sa){Ba(this,e);f=0;break}}this.Pb=f;this.Pd+=b};function Ca(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Da(){this.Ed=void 0}
function Ea(a,b,c){switch(typeof b){case "string":Fa(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(ea(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ea(a,a.Ed?a.Ed.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Fa(f,c),
c.push(":"),Ea(a,a.Ed?a.Ed.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Ga={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ha=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Fa(a,b){b.push('"',a.replace(Ha,function(a){if(a in Ga)return Ga[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Ga[a]=e+b.toString(16)}),'"')};function sa(a){return"undefined"!==typeof JSON&&m(JSON.parse)?JSON.parse(a):Ca(a)}function v(a){if("undefined"!==typeof JSON&&m(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ea(new Da,a,b);a=b.join("")}return a};function Ia(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ma()).toString(36)};var w=Array.prototype,Ja=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ka=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},La=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var l=g[k];b.call(c,l,k,a)&&(e[f++]=l)}return e},Ma=w.map?function(a,b,c){return w.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=p(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Na=w.reduce?function(a,b,c,d){d&&(b=q(b,d));return w.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;Ka(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Oa=w.every?function(a,b,c){return w.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=
p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Pa(a,b){var c=Qa(a,b,void 0);return 0>c?null:p(a)?a.charAt(c):a[c]}function Qa(a,b,c){for(var d=a.length,e=p(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ra(a,b){var c=Ja(a,b);0<=c&&w.splice.call(a,c,1)}function Sa(a,b,c,d){return w.splice.apply(a,Ta(arguments,1))}function Ta(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)}
function Ua(a,b){a.sort(b||Va)}function Va(a,b){return a>b?1:a<b?-1:0};var Wa;a:{var Xa=aa.navigator;if(Xa){var Ya=Xa.userAgent;if(Ya){Wa=Ya;break a}}Wa=""}function Za(a){return-1!=Wa.indexOf(a)};var $a=Za("Opera")||Za("OPR"),ab=Za("Trident")||Za("MSIE"),bb=Za("Gecko")&&-1==Wa.toLowerCase().indexOf("webkit")&&!(Za("Trident")||Za("MSIE")),cb=-1!=Wa.toLowerCase().indexOf("webkit");(function(){var a="",b;if($a&&aa.opera)return a=aa.opera.version,ha(a)?a():a;bb?b=/rv\:([^\);]+)(\)|;)/:ab?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:cb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Wa))?a[1]:"");return ab&&(b=(b=aa.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var db=null,eb=null;
function gb(a,b){if(!fa(a))throw Error("encodeByteArray takes an array as a parameter");if(!db){db={};eb={};for(var c=0;65>c;c++)db[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),eb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?eb:db,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,k=g?a[e+1]:0,l=e+2<a.length,n=l?a[e+2]:0,r=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|n>>6,n=n&63;l||(n=64,g||(k=64));d.push(c[r],c[f],c[k],c[n])}return d.join("")}
;var hb=function(){var a=1;return function(){return a++}}();function x(a,b){if(!a)throw ib(b);}function ib(a){return Error("Firebase INTERNAL ASSERT FAILED:"+a)}function jb(a){try{if("undefined"!==typeof atob)return atob(a)}catch(b){kb("base64DecodeIfNativeSupport failed: ",b)}return null}
function lb(a){var b=mb(a);a=new Aa;a.update(b);var b=[],c=8*a.Pd;56>a.Pb?a.update(a.zd,56-a.Pb):a.update(a.zd,a.Sa-(a.Pb-56));for(var d=a.Sa-1;56<=d;d--)a.Zd[d]=c&255,c/=256;Ba(a,a.Zd);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.T[d]>>e&255,++c;return gb(b)}function nb(a){for(var b="",c=0;c<arguments.length;c++)b=fa(arguments[c])?b+nb.apply(null,arguments[c]):"object"===typeof arguments[c]?b+v(arguments[c]):b+arguments[c],b+=" ";return b}var ob=null,pb=!0;
function kb(a){!0===pb&&(pb=!1,null===ob&&!0===wa.get("logging_enabled")&&qb(!0));if(ob){var b=nb.apply(null,arguments);ob(b)}}function rb(a){return function(){kb(a,arguments)}}function sb(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+nb.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function tb(a){var b=nb.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}
function z(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+nb.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function ub(a){var b="",c="",d="",e=!0,f="https",g="";if(p(a)){var k=a.indexOf("//");0<=k&&(f=a.substring(0,k-1),a=a.substring(k+2));k=a.indexOf("/");-1===k&&(k=a.length);b=a.substring(0,k);a=a.substring(k+1);var l=b.split(".");if(3===l.length){k=l[2].indexOf(":");e=0<=k?"https"===f||"wss"===f:!0;c=l[1];d=l[0];g="";a=("/"+a).split("/");for(k=0;k<a.length;k++)if(0<a[k].length){l=a[k];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(n){}g+="/"+l}d=d.toLowerCase()}else 2===l.length&&(c=l[0])}return{host:b,
domain:c,ug:d,Cb:e,scheme:f,Kc:g}}function vb(a){return ga(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}
function wb(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}
function xb(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=yb(a),d=yb(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function zb(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+v(b));}
function Ab(a){if("object"!==typeof a||null===a)return v(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=v(b[d]),c+=":",c+=Ab(a[b[d]]);return c+"}"}function Bb(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function Cb(a,b){if(ea(a))for(var c=0;c<a.length;++c)b(c,a[c]);else A(a,b)}
function Db(a){x(!vb(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Eb=/^-?\d{1,10}$/;function yb(a){return Eb.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function Fb(a){try{a()}catch(b){setTimeout(function(){throw b;},Math.floor(0))}}function B(a,b){if(ha(a)){var c=Array.prototype.slice.call(arguments,1).slice();Fb(function(){a.apply(null,c)})}};function Gb(a,b){return xb(a.name,b.name)}function Hb(a,b){return xb(a,b)};function Ib(){}var Jb=Object.create(null);function Kb(a){return a.compare.bind(a)}Ib.prototype.ef=function(a,b){return 0!==this.compare(new C("[MIN_NAME]",a),new C("[MIN_NAME]",b))};Ib.prototype.ye=function(){return Lb};function Mb(a){this.Rb=a}oa(Mb,Ib);h=Mb.prototype;h.qe=function(a){return!a.I(this.Rb).e()};h.compare=function(a,b){var c=a.L.I(this.Rb),d=b.L.I(this.Rb),c=c.fe(d);return 0===c?xb(a.name,b.name):c};h.we=function(a,b){var c=D(a),c=E.w(this.Rb,c);return new C(b,c)};
h.xe=function(){var a=E.w(this.Rb,Nb);return new C("[MAX_NAME]",a)};h.toString=function(){return this.Rb};var F=new Mb(".priority");function Ob(){}oa(Ob,Ib);h=Ob.prototype;h.compare=function(a,b){return xb(a.name,b.name)};h.qe=function(){throw ib("KeyIndex.isDefinedOn not expected to be called.");};h.ef=function(){return!1};h.ye=function(){return Lb};h.xe=function(){return new C("[MAX_NAME]",E)};h.we=function(a){x(p(a),"KeyIndex indexValue must always be a string.");return new C(a,E)};
h.toString=function(){return".key"};var Pb=new Ob;function Qb(){this.tc=this.Ja=this.hc=this.wa=this.sa=!1;this.yb=0;this.Yc="";this.wc=null;this.Tb="";this.vc=null;this.Qb="";this.G=F}var Rb=new Qb;function Sb(a){x(a.wa,"Only valid if start has been set");return a.wc}function Tb(a){x(a.Ja,"Only valid if end has been set");return a.vc}function Ub(a){return a.sa&&""!==a.Yc}function Vb(a){x(a.sa,"Only valid if limit has been set");return a.yb}
function Wb(a){var b=new Qb;b.sa=a.sa;b.yb=a.yb;b.wa=a.wa;b.wc=a.wc;b.hc=a.hc;b.Tb=a.Tb;b.Ja=a.Ja;b.vc=a.vc;b.tc=a.tc;b.Qb=a.Qb;b.G=a.G;return b}h=Qb.prototype;h.te=function(a){var b=Wb(this);b.sa=!0;b.yb=a;b.Yc="";return b};h.ue=function(a){var b=Wb(this);b.sa=!0;b.yb=a;b.Yc="l";return b};h.ve=function(a){var b=Wb(this);b.sa=!0;b.yb=a;b.Yc="r";return b};h.Id=function(a,b){var c=Wb(this);c.wa=!0;c.wc=a;null!=b?(c.hc=!0,c.Tb=b):(c.hc=!1,c.Tb="");return c};
h.fd=function(a,b){var c=Wb(this);c.Ja=!0;c.vc=a;m(b)?(c.tc=!0,c.Qb=b):(c.Dg=!1,c.Qb="");return c};h.Hc=function(a){var b=Wb(this);b.G=a;return b};function Xb(a){return!(a.wa||a.Ja||a.sa)};function mb(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,x(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b};function G(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function H(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function I(a,b,c,d){if((!d||m(c))&&!ha(c))throw Error(H(a,b,d)+"must be a valid function.");}function Yb(a,b,c){if(m(c)&&(!ia(c)||null===c))throw Error(H(a,b,!0)+"must be a valid context object.");};var Zb=/[\[\].#$\/\u0000-\u001F\u007F]/,$b=/[\[\].#$\u0000-\u001F\u007F]/;function ac(a){return p(a)&&0!==a.length&&!Zb.test(a)}function bc(a,b,c){c&&!m(b)||cc(H(a,1,c),b)}
function cc(a,b,c,d){c||(c=0);d=d||[];if(!m(b))throw Error(a+"contains undefined"+dc(d));if(ha(b))throw Error(a+"contains a function"+dc(d)+" with contents: "+b.toString());if(vb(b))throw Error(a+"contains "+b.toString()+dc(d));if(1E3<c)throw new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)");if(p(b)&&b.length>10485760/3&&10485760<mb(b).length)throw Error(a+"contains a string greater than 10485760 utf8 bytes"+dc(d)+" ('"+b.substring(0,50)+"...')");if(ia(b))for(var e in b)if(t(b,
e)){var f=b[e];if(".priority"!==e&&".value"!==e&&".sv"!==e&&!ac(e))throw Error(a+" contains an invalid key ("+e+")"+dc(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');d.push(e);cc(a,f,c+1,d);d.pop()}}function dc(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}function ec(a,b){if(!ia(b)||ea(b))throw Error(H(a,1,!1)+" must be an Object containing the children to replace.");bc(a,b,!1)}
function fc(a,b,c,d){if(!d||m(c)){if(vb(c))throw Error(H(a,b,d)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, or null).");if(!(null===c||ga(c)||p(c)||ia(c)&&t(c,".sv")))throw Error(H(a,b,d)+"must be a valid Firebase priority (a string, finite number, or null).");}}
function gc(a,b,c){if(!c||m(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(H(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function hc(a,b,c,d){if((!d||m(c))&&!ac(c))throw Error(H(a,b,d)+'was an invalid key: "'+c+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function ic(a,b){if(!p(b)||0===b.length||$b.test(b))throw Error(H(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function jc(a,b){if(".info"===J(b))throw Error(a+" failed: Can't modify data under /.info/");}function kc(a,b){if(!p(b))throw Error(H(a,1,!1)+"must be a valid credential (a string).");}function lc(a,b,c){if(!p(c))throw Error(H(a,b,!1)+"must be a valid string.");}
function mc(a,b,c,d){if(!d||m(c))if(!ia(c)||null===c)throw Error(H(a,b,d)+"must be a valid object.");}function nc(a,b,c){if(!ia(b)||null===b||!t(b,c))throw Error(H(a,1,!1)+'must contain the key "'+c+'"');if(!p(u(b,c)))throw Error(H(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function oc(a,b,c,d){this.je=b;this.Hd=c;this.Mc=d;this.hd=a}oc.prototype.Nb=function(){var a=this.Hd.bc();return"value"===this.hd?a.path:a.parent().path};oc.prototype.me=function(){return this.hd};oc.prototype.Lb=function(){return this.je.Lb(this)};oc.prototype.toString=function(){return this.Nb().toString()+":"+this.hd+":"+v(this.Hd.Ze())};function pc(a,b,c){this.je=a;this.error=b;this.path=c}pc.prototype.Nb=function(){return this.path};pc.prototype.me=function(){return"cancel"};
pc.prototype.Lb=function(){return this.je.Lb(this)};pc.prototype.toString=function(){return this.path.toString()+":cancel"};function qc(a,b,c){this.Gb=a;this.nb=b;this.pc=c||null}h=qc.prototype;h.qf=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.C.G;return new oc("value",this,new K(a.Va,b.bc(),c))};h.Lb=function(a){var b=this.pc;if("cancel"===a.me()){x(this.nb,"Raising a cancel event on a listener with no cancel callback");var c=this.nb;return function(){c.call(b,a.error)}}var d=this.Gb;return function(){d.call(b,a.Hd)}};h.Ue=function(a,b){return this.nb?new pc(this,a,b):null};
h.matches=function(a){return a instanceof qc&&(!a.Gb||!this.Gb||a.Gb===this.Gb)&&a.pc===this.pc};h.df=function(){return null!==this.Gb};function rc(a,b,c){this.ea=a;this.nb=b;this.pc=c}h=rc.prototype;h.qf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ea};h.Ue=function(a,b){return this.nb?new pc(this,a,b):null};h.createEvent=function(a,b){var c=b.bc().B(a.ob);return new oc(a.type,this,new K(a.Va,c,b.C.G),a.Mc)};
h.Lb=function(a){var b=this.pc;if("cancel"===a.me()){x(this.nb,"Raising a cancel event on a listener with no cancel callback");var c=this.nb;return function(){c.call(b,a.error)}}var d=this.ea[a.hd];return function(){d.call(b,a.Hd,a.Mc)}};h.matches=function(a){if(a instanceof rc){if(this.ea&&a.ea){var b=sc(a.ea);if(b===sc(this.ea)){if(1===b){var b=tc(a.ea),c=tc(this.ea);return c===b&&(!a.ea[b]||!this.ea[c]||a.ea[b]===this.ea[c])}return uc(this.ea,function(b,c){return a.ea[c]===b})}return!1}return!0}return!1};
h.df=function(){return null!==this.ea};function L(a,b,c){this.j=a;this.path=b;this.C=c}L.prototype.bc=function(){G("Query.ref",0,0,arguments.length);return new M(this.j,this.path)};L.prototype.ref=L.prototype.bc;L.prototype.Ab=function(a,b,c,d){G("Query.on",2,4,arguments.length);gc("Query.on",a,!1);I("Query.on",2,b,!1);var e=vc("Query.on",c,d);if("value"===a)wc(this.j,this,new qc(b,e.cancel||null,e.Ia||null));else{var f={};f[a]=b;wc(this.j,this,new rc(f,e.cancel,e.Ia))}return b};L.prototype.on=L.prototype.Ab;
L.prototype.Yb=function(a,b,c){G("Query.off",0,3,arguments.length);gc("Query.off",a,!0);I("Query.off",2,b,!0);Yb("Query.off",3,c);var d=null,e=null;"value"===a?d=new qc(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new rc(e,null,c||null));e=this.j;d=".info"===J(this.path)?e.pd.eb(this,d):e.N.eb(this,d);xc(e.ba,this.path,d)};L.prototype.off=L.prototype.Yb;
L.prototype.fg=function(a,b){function c(g){f&&(f=!1,e.Yb(a,c),b.call(d.Ia,g))}G("Query.once",2,4,arguments.length);gc("Query.once",a,!1);I("Query.once",2,b,!1);var d=vc("Query.once",arguments[2],arguments[3]),e=this,f=!0;this.Ab(a,c,function(b){e.Yb(a,c);d.cancel&&d.cancel.call(d.Ia,b)})};L.prototype.once=L.prototype.fg;
L.prototype.te=function(a){G("Query.limit",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.C.Ja&&this.C.wa)throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");return new L(this.j,this.path,this.C.te(a))};L.prototype.limit=L.prototype.te;
L.prototype.ue=function(a){G("Query.limitToFirst",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");return new L(this.j,this.path,this.C.ue(a))};L.prototype.limitToFirst=L.prototype.ue;L.prototype.ve=function(a){G("Query.limitToLast",1,1,arguments.length);if(!ga(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");return new L(this.j,this.path,this.C.ve(a))};
L.prototype.limitToLast=L.prototype.ve;L.prototype.Hc=function(a){G("Query.orderBy",1,1,arguments.length);if("$key"===a)throw Error('Query.orderBy: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderBy: "$priority" is invalid.  Use Query.orderByPriority() instead.');hc("Query.orderBy",1,a,!1);return new L(this.j,this.path,this.C.Hc(new Mb(a)))};L.prototype.orderBy=L.prototype.Hc;
L.prototype.gg=function(){G("Query.orderByKey",0,0,arguments.length);return new L(this.j,this.path,this.C.Hc(Pb))};L.prototype.orderByKey=L.prototype.gg;L.prototype.hg=function(){G("Query.orderByPriority",0,0,arguments.length);return new L(this.j,this.path,this.C.Hc(F))};L.prototype.orderByPriority=L.prototype.hg;
L.prototype.Id=function(a,b){G("Query.startAt",0,2,arguments.length);fc("Query.startAt",1,a,!0);hc("Query.startAt",2,b,!0);if(this.C.Ja&&this.C.sa&&!Ub(this.C))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");m(a)||(b=a=null);return new L(this.j,this.path,this.C.Id(a,b))};L.prototype.startAt=L.prototype.Id;
L.prototype.fd=function(a,b){G("Query.endAt",0,2,arguments.length);fc("Query.endAt",1,a,!0);hc("Query.endAt",2,b,!0);if(this.C.wa&&this.C.sa&&!Ub(this.C))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");return new L(this.j,this.path,this.C.fd(a,b))};L.prototype.endAt=L.prototype.fd;L.prototype.Of=function(a,b){G("Query.equalTo",1,2,arguments.length);fc("Query.equalTo",1,a,!1);hc("Query.equalTo",2,b,!0);return this.Id(a,b).fd(a,b)};
L.prototype.equalTo=L.prototype.Of;function yc(a){a=a.C;var b={};a.wa&&(b.sp=a.wc,a.hc&&(b.sn=a.Tb));a.Ja&&(b.ep=a.vc,a.tc&&(b.en=a.Qb));if(a.sa){b.l=a.yb;var c=a.Yc;""===c&&(c=a.wa?"l":"r");b.vf=c}a.G!==F&&(b.i=a.G.toString());return b}L.prototype.Da=function(){var a=Ab(yc(this));return"{}"===a?"default":a};
function vc(a,b,c){var d={cancel:null,Ia:null};if(b&&c)d.cancel=b,I(a,3,d.cancel,!0),d.Ia=c,Yb(a,4,d.Ia);else if(b)if("object"===typeof b&&null!==b)d.Ia=b;else if("function"===typeof b)d.cancel=b;else throw Error(H(a,3,!0)+" must either be a cancel callback or a context object.");return d};function N(a,b){if(1==arguments.length){this.A=a.split("/");for(var c=0,d=0;d<this.A.length;d++)0<this.A[d].length&&(this.A[c]=this.A[d],c++);this.A.length=c;this.da=0}else this.A=a,this.da=b}function J(a){return a.da>=a.A.length?null:a.A[a.da]}function O(a){return a.A.length-a.da}function Q(a){var b=a.da;b<a.A.length&&b++;return new N(a.A,b)}N.prototype.toString=function(){for(var a="",b=this.da;b<this.A.length;b++)""!==this.A[b]&&(a+="/"+this.A[b]);return a||"/"};
N.prototype.parent=function(){if(this.da>=this.A.length)return null;for(var a=[],b=this.da;b<this.A.length-1;b++)a.push(this.A[b]);return new N(a,0)};N.prototype.B=function(a){for(var b=[],c=this.da;c<this.A.length;c++)b.push(this.A[c]);if(a instanceof N)for(c=a.da;c<a.A.length;c++)b.push(a.A[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new N(b,0)};N.prototype.e=function(){return this.da>=this.A.length};var R=new N("");
function S(a,b){var c=J(a);if(null===c)return b;if(c===J(b))return S(Q(a),Q(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}N.prototype.aa=function(a){if(O(this)!==O(a))return!1;for(var b=this.da,c=a.da;b<=this.A.length;b++,c++)if(this.A[b]!==a.A[c])return!1;return!0};N.prototype.contains=function(a){var b=this.da,c=a.da;if(O(this)>O(a))return!1;for(;b<this.A.length;){if(this.A[b]!==a.A[c])return!1;++b;++c}return!0};function zc(){this.children={};this.$c=0;this.value=null}function Ac(a,b,c){this.td=a?a:"";this.Jc=b?b:null;this.J=c?c:new zc}function Bc(a,b){for(var c=b instanceof N?b:new N(b),d=a,e;null!==(e=J(c));)d=new Ac(e,d,u(d.J.children,e)||new zc),c=Q(c);return d}h=Ac.prototype;h.ra=function(){return this.J.value};function Cc(a,b){x("undefined"!==typeof b,"Cannot set value to undefined");a.J.value=b;Dc(a)}h.clear=function(){this.J.value=null;this.J.children={};this.J.$c=0;Dc(this)};
h.kd=function(){return 0<this.J.$c};h.e=function(){return null===this.ra()&&!this.kd()};h.ga=function(a){var b=this;A(this.J.children,function(c,d){a(new Ac(d,b,c))})};function Ec(a,b,c,d){c&&!d&&b(a);a.ga(function(a){Ec(a,b,!0,d)});c&&d&&b(a)}function Fc(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new N(null===this.Jc?this.td:this.Jc.path()+"/"+this.td)};h.name=function(){return this.td};h.parent=function(){return this.Jc};
function Dc(a){if(null!==a.Jc){var b=a.Jc,c=a.td,d=a.e(),e=t(b.J.children,c);d&&e?(delete b.J.children[c],b.J.$c--,Dc(b)):d||e||(b.J.children[c]=a.J,b.J.$c++,Dc(b))}};function Gc(a,b){this.Ha=a;this.oa=b?b:Hc}h=Gc.prototype;h.La=function(a,b){return new Gc(this.Ha,this.oa.La(a,b,this.Ha).Z(null,null,!1,null,null))};h.remove=function(a){return new Gc(this.Ha,this.oa.remove(a,this.Ha).Z(null,null,!1,null,null))};h.get=function(a){for(var b,c=this.oa;!c.e();){b=this.Ha(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Ic(a,b){for(var c,d=a.oa,e=null;!d.e();){c=a.Ha(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.e=function(){return this.oa.e()};h.count=function(){return this.oa.count()};h.Dc=function(){return this.oa.Dc()};h.Vb=function(){return this.oa.Vb()};h.Ba=function(a){return this.oa.Ba(a)};
h.Aa=function(a){return new Jc(this.oa,null,this.Ha,!1,a)};h.rb=function(a,b){return new Jc(this.oa,a,this.Ha,!1,b)};h.Ob=function(a,b){return new Jc(this.oa,a,this.Ha,!0,b)};h.cf=function(a){return new Jc(this.oa,null,this.Ha,!0,a)};function Jc(a,b,c,d,e){this.rf=e||null;this.re=d;this.Xb=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.re?a.left:a.right;else if(0===e){this.Xb.push(a);break}else this.Xb.push(a),a=this.re?a.right:a.left}
function T(a){if(0===a.Xb.length)return null;var b=a.Xb.pop(),c;c=a.rf?a.rf(b.key,b.value):{key:b.key,value:b.value};if(a.re)for(b=b.left;!b.e();)a.Xb.push(b),b=b.right;else for(b=b.right;!b.e();)a.Xb.push(b),b=b.left;return c}function Kc(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Hc;this.right=null!=e?e:Hc}h=Kc.prototype;h.Z=function(a,b,c,d,e){return new Kc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};
h.count=function(){return this.left.count()+1+this.right.count()};h.e=function(){return!1};h.Ba=function(a){return this.left.Ba(a)||a(this.key,this.value)||this.right.Ba(a)};function Lc(a){return a.left.e()?a:Lc(a.left)}h.Dc=function(){return Lc(this).key};h.Vb=function(){return this.right.e()?this.key:this.right.Vb()};h.La=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.Z(null,null,null,e.left.La(a,b,c),null):0===d?e.Z(null,b,null,null,null):e.Z(null,null,null,null,e.right.La(a,b,c));return Mc(e)};
function Nc(a){if(a.left.e())return Hc;a.left.ca()||a.left.left.ca()||(a=Oc(a));a=a.Z(null,null,null,Nc(a.left),null);return Mc(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.ca()||c.left.left.ca()||(c=Oc(c)),c=c.Z(null,null,null,c.left.remove(a,b),null);else{c.left.ca()&&(c=Pc(c));c.right.e()||c.right.ca()||c.right.left.ca()||(c=Qc(c),c.left.left.ca()&&(c=Pc(c),c=Qc(c)));if(0===b(a,c.key)){if(c.right.e())return Hc;d=Lc(c.right);c=c.Z(d.key,d.value,null,null,Nc(c.right))}c=c.Z(null,null,null,null,c.right.remove(a,b))}return Mc(c)};h.ca=function(){return this.color};
function Mc(a){a.right.ca()&&!a.left.ca()&&(a=Rc(a));a.left.ca()&&a.left.left.ca()&&(a=Pc(a));a.left.ca()&&a.right.ca()&&(a=Qc(a));return a}function Oc(a){a=Qc(a);a.right.left.ca()&&(a=a.Z(null,null,null,null,Pc(a.right)),a=Rc(a),a=Qc(a));return a}function Rc(a){return a.right.Z(null,null,a.color,a.Z(null,null,!0,null,a.right.left),null)}function Pc(a){return a.left.Z(null,null,a.color,null,a.Z(null,null,!0,a.left.right,null))}
function Qc(a){return a.Z(null,null,!a.color,a.left.Z(null,null,!a.left.color,null,null),a.right.Z(null,null,!a.right.color,null,null))}function Sc(){}h=Sc.prototype;h.Z=function(){return this};h.La=function(a,b){return new Kc(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.e=function(){return!0};h.Ba=function(){return!1};h.Dc=function(){return null};h.Vb=function(){return null};h.ca=function(){return!1};var Hc=new Sc;function C(a,b){this.name=a;this.L=b}function Tc(a,b){return new C(a,b)};function Uc(a,b){this.D=a;x(null!==this.D,"LeafNode shouldn't be created with null value.");this.ia=b||E;Vc(this.ia);this.xb=null}h=Uc.prototype;h.R=function(){return!0};h.Q=function(){return this.ia};h.gb=function(a){return new Uc(this.D,a)};h.I=function(a){return".priority"===a?this.ia:E};h.P=function(a){return a.e()?this:".priority"===J(a)?this.ia:E};h.$=function(){return!1};h.bf=function(){return null};h.w=function(a,b){return".priority"===a?this.gb(b):E.w(a,b).gb(this.ia)};
h.u=function(a,b){var c=J(a);if(null===c)return b;x(".priority"!==c||1===O(a),".priority must be the last token in a path");return this.w(c,E.u(Q(a),b))};h.e=function(){return!1};h.Za=function(){return 0};h.O=function(a){return a&&!this.Q().e()?{".value":this.ra(),".priority":this.Q().O()}:this.ra()};h.hash=function(){if(null===this.xb){var a="";this.ia.e()||(a+="priority:"+Wc(this.ia.O())+":");var b=typeof this.D,a=a+(b+":"),a="number"===b?a+Db(this.D):a+this.D;this.xb=lb(a)}return this.xb};
h.ra=function(){return this.D};h.fe=function(a){if(a===E)return 1;if(a instanceof Xc)return-1;x(a.R(),"Unknown node type");var b=typeof a.D,c=typeof this.D,d=Ja(Yc,b),e=Ja(Yc,c);x(0<=d,"Unknown leaf type: "+b);x(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.D<a.D?-1:this.D===a.D?0:1:e-d};var Yc=["object","boolean","number","string"];Uc.prototype.hb=function(){return this};Uc.prototype.Ub=function(){return!0};
Uc.prototype.aa=function(a){return a===this?!0:a.R()?this.D===a.D&&this.ia.aa(a.ia):!1};Uc.prototype.toString=function(){return"string"===typeof this.D?this.D:'"'+this.D+'"'};function Zc(a,b){this.od=a;this.Sb=b}Zc.prototype.get=function(a){var b=u(this.od,a);if(!b)throw Error("No index defined for "+a);return b===Jb?null:b};function $c(a,b,c){var d=ad(a.od,function(d,f){var g=u(a.Sb,f);x(g,"Missing index implementation for "+f);if(d===Jb){if(g.qe(b.L)){for(var k=[],l=c.Aa(Tc),n=T(l);n;)n.name!=b.name&&k.push(n),n=T(l);k.push(b);return bd(k,Kb(g))}return Jb}g=c.get(b.name);k=d;g&&(k=k.remove(new C(b.name,g)));return k.La(b,b.L)});return new Zc(d,a.Sb)}
function cd(a,b,c){var d=ad(a.od,function(a){if(a===Jb)return a;var d=c.get(b.name);return d?a.remove(new C(b.name,d)):a});return new Zc(d,a.Sb)}var dd=new Zc({".priority":Jb},{".priority":F});function Xc(a,b,c){this.m=a;(this.ia=b)&&Vc(this.ia);this.sb=c;this.xb=null}h=Xc.prototype;h.R=function(){return!1};h.Q=function(){return this.ia||E};h.gb=function(a){return new Xc(this.m,a,this.sb)};h.I=function(a){if(".priority"===a)return this.Q();a=this.m.get(a);return null===a?E:a};h.P=function(a){var b=J(a);return null===b?this:this.I(b).P(Q(a))};h.$=function(a){return null!==this.m.get(a)};
h.w=function(a,b){x(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.gb(b);var c=new C(a,b),d;b.e()?(d=this.m.remove(a),c=cd(this.sb,c,this.m)):(d=this.m.La(a,b),c=$c(this.sb,c,this.m));return new Xc(d,this.ia,c)};h.u=function(a,b){var c=J(a);if(null===c)return b;x(".priority"!==J(a)||1===O(a),".priority must be the last token in a path");var d=this.I(c).u(Q(a),b);return this.w(c,d)};h.e=function(){return this.m.e()};h.Za=function(){return this.m.count()};var ed=/^(0|[1-9]\d*)$/;
h=Xc.prototype;h.O=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.ga(F,function(f,g){b[f]=g.O(a);c++;e&&ed.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.Q().e()&&(b[".priority"]=this.Q().O());return b};h.hash=function(){if(null===this.xb){var a="";this.Q().e()||(a+="priority:"+Wc(this.Q().O())+":");this.ga(F,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.xb=""===a?"":lb(a)}return this.xb};
h.bf=function(a,b,c){return(c=fd(this,c))?(a=Ic(c,new C(a,b)))?a.name:null:Ic(this.m,a)};function gd(a,b){var c;c=(c=fd(a,b))?(c=c.Dc())&&c.name:a.m.Dc();return c?new C(c,a.m.get(c)):null}function hd(a,b){var c;c=(c=fd(a,b))?(c=c.Vb())&&c.name:a.m.Vb();return c?new C(c,a.m.get(c)):null}h.ga=function(a,b){var c=fd(this,a);return c?c.Ba(function(a){return b(a.name,a.L)}):this.m.Ba(b)};h.Aa=function(a){return this.rb(a.ye(),a)};
h.rb=function(a,b){var c=fd(this,b);return c?c.rb(a,function(a){return a}):this.m.rb(a.name,Tc)};h.cf=function(a){return this.Ob(a.xe(),a)};h.Ob=function(a,b){var c=fd(this,b);return c?c.Ob(a,function(a){return a}):this.m.Ob(a.name,Tc)};h.fe=function(a){return this.e()?a.e()?0:-1:a.R()||a.e()?1:a===Nb?-1:0};
h.hb=function(a){if(a===Pb||id(this.sb.Sb,a.toString()))return this;var b=this.sb,c=this.m;x(a!==Pb,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.Aa(Tc),f=T(c);f;)e=e||a.qe(f.L),d.push(f),f=T(c);d=e?bd(d,Kb(a)):Jb;e=a.toString();c=jd(b.Sb);c[e]=a;a=jd(b.od);a[e]=d;return new Xc(this.m,this.ia,new Zc(a,c))};h.Ub=function(a){return a===Pb||id(this.sb.Sb,a.toString())};
h.aa=function(a){if(a===this)return!0;if(a.R())return!1;if(this.Q().aa(a.Q())&&this.m.count()===a.m.count()){var b=this.Aa(F);a=a.Aa(F);for(var c=T(b),d=T(a);c&&d;){if(c.name!==d.name||!c.L.aa(d.L))return!1;c=T(b);d=T(a)}return null===c&&null===d}return!1};function fd(a,b){return b===Pb?null:a.sb.get(b.toString())}h.toString=function(){var a="{",b=!0;this.ga(F,function(c,d){b?b=!1:a+=", ";a+='"'+c+'" : '+d.toString()});return a+="}"};function D(a,b){if(null===a)return E;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);x(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Uc(a,D(c));if(a instanceof Array){var d=E,e=a;A(e,function(a,b){if(t(e,b)&&"."!==b.substring(0,1)){var c=D(a);if(c.R()||!c.e())d=
d.w(b,c)}});return d.gb(D(c))}var f=[],g=!1,k=a;Cb(k,function(a,b){if("string"!==typeof b||"."!==b.substring(0,1)){var c=D(k[b]);c.e()||(g=g||!c.Q().e(),f.push(new C(b,c)))}});var l=bd(f,Gb,function(a){return a.name},Hb);if(g){var n=bd(f,Kb(F));return new Xc(l,D(c),new Zc({".priority":n},{".priority":F}))}return new Xc(l,D(c),dd)}var kd=Math.log(2);function ld(a){this.count=parseInt(Math.log(a+1)/kd,10);this.We=this.count-1;this.Jf=a+1&parseInt(Array(this.count+1).join("1"),2)}
function md(a){var b=!(a.Jf&1<<a.We);a.We--;return b}
function bd(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var n=a[b],r=c?c(n):n;return new Kc(r,n.L,!1,null,null)}var n=parseInt(f/2,10)+b,f=e(b,n),s=e(n+1,d),n=a[n],r=c?c(n):n;return new Kc(r,n.L,!1,f,s)}a.sort(b);var f=function(b){function d(b,g){var k=r-b,s=r;r-=b;var s=e(k+1,s),k=a[k],y=c?c(k):k,s=new Kc(y,k.L,g,null,s);f?f.left=s:n=s;f=s}for(var f=null,n=null,r=a.length,s=0;s<b.count;++s){var y=md(b),P=Math.pow(2,b.count-(s+1));y?d(P,!1):(d(P,!1),d(P,!0))}return n}(new ld(a.length));
return null!==f?new Gc(d||b,f):new Gc(d||b)}function Wc(a){return"number"===typeof a?"number:"+Db(a):"string:"+a}function Vc(a){if(a.R()){var b=a.O();x("string"===typeof b||"number"===typeof b||"object"===typeof b&&t(b,".sv"),"Priority must be a string or number.")}else x(a===Nb||a.e(),"priority of unexpected type.");x(a===Nb||a.Q().e(),"Priority nodes can't have a priority of their own.")}var E=new Xc(new Gc(Hb),null,dd);function nd(){Xc.call(this,new Gc(Hb),E,dd)}oa(nd,Xc);h=nd.prototype;
h.fe=function(a){return a===this?0:1};h.aa=function(a){return a===this};h.Q=function(){throw ib("Why is this called?");};h.I=function(){return E};h.e=function(){return!1};var Nb=new nd,Lb=new C("[MIN_NAME]",E);function K(a,b,c){this.J=a;this.Y=b;this.G=c}K.prototype.O=function(){G("Firebase.DataSnapshot.val",0,0,arguments.length);return this.J.O()};K.prototype.val=K.prototype.O;K.prototype.Ze=function(){G("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.J.O(!0)};K.prototype.exportVal=K.prototype.Ze;
K.prototype.B=function(a){G("Firebase.DataSnapshot.child",0,1,arguments.length);ga(a)&&(a=String(a));ic("Firebase.DataSnapshot.child",a);var b=new N(a),c=this.Y.B(b);return new K(this.J.P(b),c,F)};K.prototype.child=K.prototype.B;K.prototype.$=function(a){G("Firebase.DataSnapshot.hasChild",1,1,arguments.length);ic("Firebase.DataSnapshot.hasChild",a);var b=new N(a);return!this.J.P(b).e()};K.prototype.hasChild=K.prototype.$;
K.prototype.Q=function(){G("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.J.Q().O()};K.prototype.getPriority=K.prototype.Q;K.prototype.forEach=function(a){G("Firebase.DataSnapshot.forEach",1,1,arguments.length);I("Firebase.DataSnapshot.forEach",1,a,!1);if(this.J.R())return!1;var b=this;return!!this.J.ga(this.G,function(c,d){return a(new K(d,b.Y.B(c),F))})};K.prototype.forEach=K.prototype.forEach;
K.prototype.kd=function(){G("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.J.R()?!1:!this.J.e()};K.prototype.hasChildren=K.prototype.kd;K.prototype.name=function(){G("Firebase.DataSnapshot.name",0,0,arguments.length);return this.Y.name()};K.prototype.name=K.prototype.name;K.prototype.Za=function(){G("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.J.Za()};K.prototype.numChildren=K.prototype.Za;
K.prototype.bc=function(){G("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.Y};K.prototype.ref=K.prototype.bc;function od(a){x(ea(a)&&0<a.length,"Requires a non-empty array");this.Bf=a;this.Bc={}}od.prototype.Rd=function(a,b){for(var c=this.Bc[a]||[],d=0;d<c.length;d++)c[d].mc.apply(c[d].Ia,Array.prototype.slice.call(arguments,1))};od.prototype.Ab=function(a,b,c){pd(this,a);this.Bc[a]=this.Bc[a]||[];this.Bc[a].push({mc:b,Ia:c});(a=this.ne(a))&&b.apply(c,a)};od.prototype.Yb=function(a,b,c){pd(this,a);a=this.Bc[a]||[];for(var d=0;d<a.length;d++)if(a[d].mc===b&&(!c||c===a[d].Ia)){a.splice(d,1);break}};
function pd(a,b){x(Pa(a.Bf,function(a){return a===b}),"Unknown event: "+b)};function qd(){od.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.jc=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.jc&&(c.jc=b,c.Rd("visible",b))},!1)}}oa(qd,od);ca(qd);qd.prototype.ne=function(a){x("visible"===a,"Unknown event type: "+a);return[this.jc]};function rd(){od.call(this,["online"]);this.Gc=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.Gc||a.Rd("online",!0);a.Gc=!0},!1);window.addEventListener("offline",function(){a.Gc&&a.Rd("online",!1);a.Gc=!1},!1)}}oa(rd,od);ca(rd);rd.prototype.ne=function(a){x("online"===a,"Unknown event type: "+a);return[this.Gc]};function A(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ad(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function uc(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function sc(a){var b=0,c;for(c in a)b++;return b}function tc(a){for(var b in a)return b}function sd(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function td(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function id(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function ud(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function vd(a,b){var c=ud(a,b,void 0);return c&&a[c]}function wd(a){for(var b in a)return!1;return!0}function xd(a,b){return b in a?a[b]:void 0}function jd(a){var b={},c;for(c in a)b[c]=a[c];return b}var yd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function zd(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<yd.length;f++)c=yd[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Ad(){this.qc={}}function Bd(a,b,c){m(c)||(c=1);t(a.qc,b)||(a.qc[b]=0);a.qc[b]+=c}Ad.prototype.get=function(){return jd(this.qc)};function Cd(a){this.Kf=a;this.qd=null}Cd.prototype.get=function(){var a=this.Kf.get(),b=jd(a);if(this.qd)for(var c in this.qd)b[c]-=this.qd[c];this.qd=a;return b};function Dd(a,b){this.Me={};this.Kd=new Cd(a);this.U=b;var c=1E4+2E4*Math.random();setTimeout(q(this.of,this),Math.floor(c))}Dd.prototype.of=function(){var a=this.Kd.get(),b={},c=!1,d;for(d in a)0<a[d]&&t(this.Me,d)&&(b[d]=a[d],c=!0);c&&(a=this.U,a.fa&&(b={c:b},a.f("reportStats",b),a.va("s",b)));setTimeout(q(this.of,this),Math.floor(6E5*Math.random()))};var Ed={},Fd={};function Gd(a){a=a.toString();Ed[a]||(Ed[a]=new Ad);return Ed[a]}function Hd(a,b){var c=a.toString();Fd[c]||(Fd[c]=b());return Fd[c]};var Id=null;"undefined"!==typeof MozWebSocket?Id=MozWebSocket:"undefined"!==typeof WebSocket&&(Id=WebSocket);function Jd(a,b,c){this.ge=a;this.f=rb(this.ge);this.frames=this.xc=null;this.lb=this.mb=this.Oe=0;this.Ea=Gd(b);this.Xa=(b.Cb?"wss://":"ws://")+b.Ma+"/.ws?v=5";"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(this.Xa+="&r=f");b.host!==b.Ma&&(this.Xa=this.Xa+"&ns="+b.zb);c&&(this.Xa=this.Xa+"&s="+c)}var Kd;
Jd.prototype.open=function(a,b){this.Na=b;this.bg=a;this.f("Websocket connecting to "+this.Xa);this.uc=!1;va.set("previous_websocket_failure",!0);try{this.na=new Id(this.Xa)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.$a();return}var e=this;this.na.onopen=function(){e.f("Websocket connected.");e.uc=!0};this.na.onclose=function(){e.f("Websocket connection was disconnected.");e.na=null;e.$a()};this.na.onmessage=function(a){if(null!==e.na)if(a=a.data,e.lb+=
a.length,Bd(e.Ea,"bytes_received",a.length),Ld(e),null!==e.frames)Md(e,a);else{a:{x(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.Oe=b;e.frames=[];a=null;break a}}e.Oe=1;e.frames=[]}null!==a&&Md(e,a)}};this.na.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.$a()}};Jd.prototype.start=function(){};
Jd.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==Id&&!Kd};Jd.responsesRequiredToBeHealthy=2;Jd.healthyTimeout=3E4;h=Jd.prototype;h.rd=function(){va.remove("previous_websocket_failure")};function Md(a,b){a.frames.push(b);if(a.frames.length==a.Oe){var c=a.frames.join("");a.frames=null;c=sa(c);a.bg(c)}}
h.send=function(a){Ld(this);a=v(a);this.mb+=a.length;Bd(this.Ea,"bytes_sent",a.length);a=Bb(a,16384);1<a.length&&this.na.send(String(a.length));for(var b=0;b<a.length;b++)this.na.send(a[b])};h.Uc=function(){this.ub=!0;this.xc&&(clearInterval(this.xc),this.xc=null);this.na&&(this.na.close(),this.na=null)};h.$a=function(){this.ub||(this.f("WebSocket is closing itself"),this.Uc(),this.Na&&(this.Na(this.uc),this.Na=null))};h.close=function(){this.ub||(this.f("WebSocket is being closed"),this.Uc())};
function Ld(a){clearInterval(a.xc);a.xc=setInterval(function(){a.na&&a.na.send("0");Ld(a)},Math.floor(45E3))};function Nd(a){this.Zb=a;this.Bd=[];this.Ib=0;this.ee=-1;this.Bb=null}function Od(a,b,c){a.ee=b;a.Bb=c;a.ee<a.Ib&&(a.Bb(),a.Bb=null)}function Pd(a,b,c){for(a.Bd[b]=c;a.Bd[a.Ib];){var d=a.Bd[a.Ib];delete a.Bd[a.Ib];for(var e=0;e<d.length;++e)if(d[e]){var f=a;Fb(function(){f.Zb(d[e])})}if(a.Ib===a.ee){a.Bb&&(clearTimeout(a.Bb),a.Bb(),a.Bb=null);break}a.Ib++}};function Qd(){this.set={}}h=Qd.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return t(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.clear=function(){this.set={}};h.e=function(){return wd(this.set)};h.count=function(){return sc(this.set)};function Rd(a,b){A(a.set,function(a,d){b(d,a)})};function Sd(a,b,c){this.ge=a;this.f=rb(a);this.lb=this.mb=0;this.Ea=Gd(b);this.Gd=c;this.uc=!1;this.Xc=function(a){b.host!==b.Ma&&(a.ns=b.zb);var c=[],f;for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.Cb?"https://":"http://")+b.Ma+"/.lp?"+c.join("&")}}var Td,Ud;
Sd.prototype.open=function(a,b){this.Ve=0;this.ha=b;this.hf=new Nd(a);this.ub=!1;var c=this;this.pb=setTimeout(function(){c.f("Timed out trying to connect.");c.$a();c.pb=null},Math.floor(3E4));wb(function(){if(!c.ub){c.Pa=new Vd(function(a,b,d,k,l){Wd(c,arguments);if(c.Pa)if(c.pb&&(clearTimeout(c.pb),c.pb=null),c.uc=!0,"start"==a)c.id=b,c.nf=d;else if("close"===a)b?(c.Pa.Fd=!1,Od(c.hf,b,function(){c.$a()})):c.$a();else throw Error("Unrecognized command received: "+a);},function(a,b){Wd(c,arguments);
Pd(c.hf,a,b)},function(){c.$a()},c.Xc);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Pa.Sd&&(a.cb=c.Pa.Sd);a.v="5";c.Gd&&(a.s=c.Gd);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.Xc(a);c.f("Connecting via long-poll to "+a);Xd(c.Pa,a,function(){})}})};
Sd.prototype.start=function(){var a=this.Pa,b=this.nf;a.Wf=this.id;a.Xf=b;for(a.Wd=!0;Yd(a););a=this.id;b=this.nf;this.Wb=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;this.Wb.src=this.Xc(c);this.Wb.style.display="none";document.body.appendChild(this.Wb)};Sd.isAvailable=function(){return!Ud&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.yg)&&(Td||!0)};h=Sd.prototype;
h.rd=function(){};h.Uc=function(){this.ub=!0;this.Pa&&(this.Pa.close(),this.Pa=null);this.Wb&&(document.body.removeChild(this.Wb),this.Wb=null);this.pb&&(clearTimeout(this.pb),this.pb=null)};h.$a=function(){this.ub||(this.f("Longpoll is closing itself"),this.Uc(),this.ha&&(this.ha(this.uc),this.ha=null))};h.close=function(){this.ub||(this.f("Longpoll is being closed."),this.Uc())};
h.send=function(a){a=v(a);this.mb+=a.length;Bd(this.Ea,"bytes_sent",a.length);a=mb(a);a=gb(a,!0);a=Bb(a,1840);for(var b=0;b<a.length;b++){var c=this.Pa;c.Lc.push({ng:this.Ve,vg:a.length,Xe:a[b]});c.Wd&&Yd(c);this.Ve++}};function Wd(a,b){var c=v(b).length;a.lb+=c;Bd(a.Ea,"bytes_received",c)}
function Vd(a,b,c,d){this.Xc=d;this.Na=c;this.De=new Qd;this.Lc=[];this.ie=Math.floor(1E8*Math.random());this.Fd=!0;this.Sd=hb();window["pLPCommand"+this.Sd]=a;window["pRTLPCB"+this.Sd]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||kb("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
a.contentDocument?a.Ya=a.contentDocument:a.contentWindow?a.Ya=a.contentWindow.document:a.document&&(a.Ya=a.document);this.ua=a;a="";this.ua.src&&"javascript:"===this.ua.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";\x3c/script>');a="<html><body>"+a+"</body></html>";try{this.ua.Ya.open(),this.ua.Ya.write(a),this.ua.Ya.close()}catch(f){kb("frame writing exception"),f.stack&&kb(f.stack),kb(f)}}
Vd.prototype.close=function(){this.Wd=!1;if(this.ua){this.ua.Ya.body.innerHTML="";var a=this;setTimeout(function(){null!==a.ua&&(document.body.removeChild(a.ua),a.ua=null)},Math.floor(0))}var b=this.Na;b&&(this.Na=null,b())};
function Yd(a){if(a.Wd&&a.Fd&&a.De.count()<(0<a.Lc.length?2:1)){a.ie++;var b={};b.id=a.Wf;b.pw=a.Xf;b.ser=a.ie;for(var b=a.Xc(b),c="",d=0;0<a.Lc.length;)if(1870>=a.Lc[0].Xe.length+30+c.length){var e=a.Lc.shift(),c=c+"&seg"+d+"="+e.ng+"&ts"+d+"="+e.vg+"&d"+d+"="+e.Xe;d++}else break;Zd(a,b+c,a.ie);return!0}return!1}function Zd(a,b,c){function d(){a.De.remove(c);Yd(a)}a.De.add(c);var e=setTimeout(d,Math.floor(25E3));Xd(a,b,function(){clearTimeout(e);d()})}
function Xd(a,b,c){setTimeout(function(){try{if(a.Fd){var d=a.ua.Ya.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){kb("Long-poll script failed to load: "+b);a.Fd=!1;a.close()};a.ua.Ya.body.appendChild(d)}}catch(e){}},Math.floor(1))};function $d(a){ae(this,a)}var be=[Sd,Jd];function ae(a,b){var c=Jd&&Jd.isAvailable(),d=c&&!(va.gf||!0===va.get("previous_websocket_failure"));b.xg&&(c||z("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.Vc=[Jd];else{var e=a.Vc=[];Cb(be,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function ce(a){if(0<a.Vc.length)return a.Vc[0];throw Error("No transports available");};function de(a,b,c,d,e,f){this.id=a;this.f=rb("c:"+this.id+":");this.Zb=c;this.Fc=d;this.ha=e;this.Be=f;this.S=b;this.Ad=[];this.Se=0;this.xf=new $d(b);this.Ra=0;this.f("Connection created");ee(this)}
function ee(a){var b=ce(a.xf);a.K=new b("c:"+a.id+":"+a.Se++,a.S);a.Fe=b.responsesRequiredToBeHealthy||0;var c=fe(a,a.K),d=ge(a,a.K);a.Wc=a.K;a.Tc=a.K;a.H=null;a.vb=!1;setTimeout(function(){a.K&&a.K.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.md=setTimeout(function(){a.md=null;a.vb||(a.K&&102400<a.K.lb?(a.f("Connection exceeded healthy timeout but has received "+a.K.lb+" bytes.  Marking connection healthy."),a.vb=!0,a.K.rd()):a.K&&10240<a.K.mb?a.f("Connection exceeded healthy timeout but has sent "+
a.K.mb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function ge(a,b){return function(c){b===a.K?(a.K=null,c||0!==a.Ra?1===a.Ra&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.S.Ma.substr(0,2)&&(va.remove("host:"+a.S.host),a.S.Ma=a.S.host)),a.close()):b===a.H?(a.f("Secondary connection lost."),c=a.H,a.H=null,a.Wc!==c&&a.Tc!==c||a.close()):a.f("closing an old connection")}}
function fe(a,b){return function(c){if(2!=a.Ra)if(b===a.Tc){var d=zb("t",c);c=zb("d",c);if("c"==d){if(d=zb("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Gd=c.s;ya(a.S,f);0==a.Ra&&(a.K.start(),he(a,a.K,d),"5"!==e&&z("Protocol version mismatch detected"),c=a.xf,(c=1<c.Vc.length?c.Vc[1]:null)&&ie(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.Tc=a.H;for(c=0;c<a.Ad.length;++c)a.wd(a.Ad[c]);a.Ad=[];je(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.Be&&(a.Be(c),a.Be=null),a.ha=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),ya(a.S,c),1===a.Ra?a.close():(ke(a),ee(a))):"e"===d?sb("Server Error: "+c):"o"===d?(a.f("got pong on primary."),le(a),me(a)):sb("Unknown control packet command: "+d)}else"d"==d&&a.wd(c)}else if(b===a.H)if(d=zb("t",c),c=zb("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?ne(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.H.close(),a.Wc!==a.H&&a.Tc!==a.H||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.uf--,ne(a)));else if("d"==d)a.Ad.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}de.prototype.va=function(a){oe(this,{t:"d",d:a})};function je(a){a.Wc===a.H&&a.Tc===a.H&&(a.f("cleaning up and promoting a connection: "+a.H.ge),a.K=a.H,a.H=null)}
function ne(a){0>=a.uf?(a.f("Secondary connection is healthy."),a.vb=!0,a.H.rd(),a.H.start(),a.f("sending client ack on secondary"),a.H.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.K.send({t:"c",d:{t:"n",d:{}}}),a.Wc=a.H,je(a)):(a.f("sending ping on secondary."),a.H.send({t:"c",d:{t:"p",d:{}}}))}de.prototype.wd=function(a){le(this);this.Zb(a)};function le(a){a.vb||(a.Fe--,0>=a.Fe&&(a.f("Primary connection is healthy."),a.vb=!0,a.K.rd()))}
function ie(a,b){a.H=new b("c:"+a.id+":"+a.Se++,a.S,a.Gd);a.uf=b.responsesRequiredToBeHealthy||0;a.H.open(fe(a,a.H),ge(a,a.H));setTimeout(function(){a.H&&(a.f("Timed out trying to upgrade."),a.H.close())},Math.floor(6E4))}function he(a,b,c){a.f("Realtime connection established.");a.K=b;a.Ra=1;a.Fc&&(a.Fc(c),a.Fc=null);0===a.Fe?(a.f("Primary connection is healthy."),a.vb=!0):setTimeout(function(){me(a)},Math.floor(5E3))}
function me(a){a.vb||1!==a.Ra||(a.f("sending ping on primary."),oe(a,{t:"c",d:{t:"p",d:{}}}))}function oe(a,b){if(1!==a.Ra)throw"Connection is not connected";a.Wc.send(b)}de.prototype.close=function(){2!==this.Ra&&(this.f("Closing realtime connection."),this.Ra=2,ke(this),this.ha&&(this.ha(),this.ha=null))};function ke(a){a.f("Shutting down all connections");a.K&&(a.K.close(),a.K=null);a.H&&(a.H.close(),a.H=null);a.md&&(clearTimeout(a.md),a.md=null)};function pe(a){var b={},c={},d={},e="";try{var f=a.split("."),b=sa(jb(f[0])||""),c=sa(jb(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{Bg:b,de:c,data:d,sg:e}}function qe(a){a=pe(a).de;return"object"===typeof a&&a.hasOwnProperty("iat")?u(a,"iat"):null}function re(a){a=pe(a);var b=a.de;return!!a.sg&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function te(a,b,c,d){this.id=ue++;this.f=rb("p:"+this.id+":");this.Eb=!0;this.ta={};this.ka=[];this.Ic=0;this.Ec=[];this.fa=!1;this.Ua=1E3;this.sd=3E5;this.xd=b;this.vd=c;this.Ce=d;this.S=a;this.Ie=null;this.Pc={};this.mg=0;this.yc=this.se=null;ve(this,0);qd.Mb().Ab("visible",this.eg,this);-1===a.host.indexOf("fblocal")&&rd.Mb().Ab("online",this.cg,this)}var ue=0,we=0;h=te.prototype;
h.va=function(a,b,c){var d=++this.mg;a={r:d,a:a,b:b};this.f(v(a));x(this.fa,"sendRequest call when we're not connected not allowed.");this.Ta.va(a);c&&(this.Pc[d]=c)};function xe(a,b,c,d,e){var f=b.Da(),g=b.path.toString();a.f("Listen called for "+g+" "+f);a.ta[g]=a.ta[g]||{};x(!a.ta[g][f],"listen() called twice for same path/queryId.");a.ta[g][f]={M:e,ld:c,ig:yc(b),tag:d};a.fa&&ye(a,g,f)}
function ye(a,b,c){a.f("Listen on "+b+" for "+c);var d={p:b},e=a.ta[b][c];e.tag&&(d.q=e.ig,d.t=e.tag);e=a.ta[b][c];d.h=e.ld();var f=e.M;a.va("q",d,function(d){a.f("listen response",d);var e=d.s;"ok"!==e&&ze(a,b,c);f&&f(e,d.d)})}h.W=function(a,b,c){this.Hb={Mf:a,$e:!1,mc:b,Zc:c};this.f("Authenticating using credential: "+a);Ae(this);(b=40==a.length)||(a=pe(a).de,b="object"===typeof a&&!0===u(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.sd=3E4)};
h.Pe=function(a){delete this.Hb;this.fa&&this.va("unauth",{},function(b){a(b.s,b.d)})};function Ae(a){var b=a.Hb;a.fa&&b&&a.va("auth",{cred:b.Mf},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Hb===b&&delete a.Hb;b.$e?"ok"!==d&&b.Zc&&b.Zc(d,c):(b.$e=!0,b.mc&&b.mc(d,c))})}function Be(a,b,c,d){a.fa?Ce(a,"o",b,c,d):a.Ec.push({Kc:b,action:"o",data:c,M:d})}function De(a,b,c,d){a.fa?Ce(a,"om",b,c,d):a.Ec.push({Kc:b,action:"om",data:c,M:d})}
h.Ae=function(a,b){this.fa?Ce(this,"oc",a,null,b):this.Ec.push({Kc:a,action:"oc",data:null,M:b})};function Ce(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.va(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.put=function(a,b,c,d){Ee(this,"p",a,b,c,d)};function Fe(a,b,c,d){Ee(a,"m",b,c,d,void 0)}function Ee(a,b,c,d,e,f){d={p:c,d:d};m(f)&&(d.h=f);a.ka.push({action:b,pf:d,M:e});a.Ic++;b=a.ka.length-1;a.fa?Ge(a,b):a.f("Buffering put: "+c)}
function Ge(a,b){var c=a.ka[b].action,d=a.ka[b].pf,e=a.ka[b].M;a.ka[b].jg=a.fa;a.va(c,d,function(d){a.f(c+" response",d);delete a.ka[b];a.Ic--;0===a.Ic&&(a.ka=[]);e&&e(d.s,d.d)})}
h.wd=function(a){if("r"in a){this.f("from server: "+v(a));var b=a.r,c=this.Pc[b];c&&(delete this.Pc[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.xd(c.p,c.d,!1,c.t):"m"===b?this.xd(c.p,c.d,!0,c.t):"c"===b?He(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Hb,delete this.Hb,c&&c.Zc&&c.Zc(a,b)):"sd"===b?this.Ie?this.Ie(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):sb("Unrecognized action received from server: "+v(b)+"\nAre you using the latest client?"))}};h.Fc=function(a){this.f("connection ready");this.fa=!0;this.yc=(new Date).getTime();this.Ce({serverTimeOffset:a-(new Date).getTime()});Ie(this);this.vd(!0)};function ve(a,b){x(!a.Ta,"Scheduling a connect when we're already connected/ing?");a.Jb&&clearTimeout(a.Jb);a.Jb=setTimeout(function(){a.Jb=null;Je(a)},Math.floor(b))}
h.eg=function(a){a&&!this.jc&&this.Ua===this.sd&&(this.f("Window became visible.  Reducing delay."),this.Ua=1E3,this.Ta||ve(this,0));this.jc=a};h.cg=function(a){a?(this.f("Browser went online.  Reconnecting."),this.Ua=1E3,this.Eb=!0,this.Ta||ve(this,0)):(this.f("Browser went offline.  Killing connection; don't reconnect."),this.Eb=!1,this.Ta&&this.Ta.close())};
h.kf=function(){this.f("data client disconnected");this.fa=!1;this.Ta=null;for(var a=0;a<this.ka.length;a++){var b=this.ka[a];b&&"h"in b.pf&&b.jg&&(b.M&&b.M("disconnect"),delete this.ka[a],this.Ic--)}0===this.Ic&&(this.ka=[]);if(this.Eb)this.jc?this.yc&&(3E4<(new Date).getTime()-this.yc&&(this.Ua=1E3),this.yc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.Ua=this.sd,this.se=(new Date).getTime()),a=Math.max(0,this.Ua-((new Date).getTime()-this.se)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),ve(this,a),this.Ua=Math.min(this.sd,1.3*this.Ua);else for(var c in this.Pc)delete this.Pc[c];this.vd(!1)};function Je(a){if(a.Eb){a.f("Making a connection attempt");a.se=(new Date).getTime();a.yc=null;var b=q(a.wd,a),c=q(a.Fc,a),d=q(a.kf,a),e=a.id+":"+we++;a.Ta=new de(e,a.S,b,c,d,function(b){z(b+" ("+a.S.toString()+")");a.Eb=!1})}}h.tb=function(){this.Eb=!1;this.Ta?this.Ta.close():(this.Jb&&(clearTimeout(this.Jb),this.Jb=null),this.fa&&this.kf())};
h.ec=function(){this.Eb=!0;this.Ua=1E3;this.fa||ve(this,0)};function He(a,b,c){c=c?Ma(c,function(a){return Ab(a)}).join("$"):"default";(a=ze(a,b,c))&&a.M&&a.M("permission_denied")}function ze(a,b,c){b=(new N(b)).toString();var d=a.ta[b][c];delete a.ta[b][c];0===sc(a.ta[b])&&delete a.ta[b];return d}function Ie(a){Ae(a);A(a.ta,function(b,d){A(b,function(b,c){ye(a,d,c)})});for(var b=0;b<a.ka.length;b++)a.ka[b]&&Ge(a,b);for(;a.Ec.length;)b=a.Ec.shift(),Ce(a,b.action,b.Kc,b.data,b.M)};function Ke(){this.m=this.D=null}Ke.prototype.cc=function(a,b){if(a.e())this.D=b,this.m=null;else if(null!==this.D)this.D=this.D.u(a,b);else{null==this.m&&(this.m=new Qd);var c=J(a);this.m.contains(c)||this.m.add(c,new Ke);c=this.m.get(c);a=Q(a);c.cc(a,b)}};
function Le(a,b){if(b.e())return a.D=null,a.m=null,!0;if(null!==a.D){if(a.D.R())return!1;var c=a.D;a.D=null;c.ga(F,function(b,c){a.cc(new N(b),c)});return Le(a,b)}return null!==a.m?(c=J(b),b=Q(b),a.m.contains(c)&&Le(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function Me(a,b,c){null!==a.D?c(b,a.D):a.ga(function(a,e){var f=new N(b.toString()+"/"+a);Me(e,f,c)})}Ke.prototype.ga=function(a){null!==this.m&&Rd(this.m,function(b,c){a(b,c)})};function Ne(){this.Sc=E}Ne.prototype.toString=function(){return this.Sc.toString()};function Oe(){this.qb=[]}function Pe(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.Nb();null===c||f.aa(c.Nb())||(a.qb.push(c),c=null);null===c&&(c=new Qe(f));c.add(e)}c&&a.qb.push(c)}function xc(a,b,c){Pe(a,c);Re(a,function(a){return a.aa(b)})}function Se(a,b,c){Pe(a,c);Re(a,function(a){return a.contains(b)||b.contains(a)})}
function Re(a,b){for(var c=!0,d=0;d<a.qb.length;d++){var e=a.qb[d];if(e)if(e=e.Nb(),b(e)){for(var e=a.qb[d],f=0;f<e.jd.length;f++){var g=e.jd[f];if(null!==g){e.jd[f]=null;var k=g.Lb();ob&&kb("event: "+g.toString());Fb(k)}}a.qb[d]=null}else c=!1}c&&(a.qb=[])}function Qe(a){this.Ca=a;this.jd=[]}Qe.prototype.add=function(a){this.jd.push(a)};Qe.prototype.Nb=function(){return this.Ca};var Te="auth.firebase.com";function Ue(a,b,c){this.ad=a||{};this.Qd=b||{};this.fc=c||{};this.ad.remember||(this.ad.remember="default")}var Ve=["remember","redirectTo"];function We(a){var b={},c={};pa(a||{},function(a,e){0<=Ja(Ve,a)?b[a]=e:c[a]=e});return new Ue(b,{},c)};var Xe={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function U(a){var b=Error(u(Xe,a),a);b.code=a;return b};function Ye(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function Ze(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function $e(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function af(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function bf(a){var b="";try{a=a.replace("#","");var c={},d=a.replace(/^\?/,"").split("&");for(a=0;a<d.length;a++)if(d[a]){var e=d[a].split("=");c[e[0]]=e[1]}c&&t(c,"__firebase_request_key")&&(b=u(c,"__firebase_request_key"))}catch(f){}return b}
function cf(a){var b=[],c;for(c in a)if(t(a,c)){var d=u(a,c);if(ea(d))for(var e=0;e<d.length;e++)b.push(encodeURIComponent(c)+"="+encodeURIComponent(d[e]));else b.push(encodeURIComponent(c)+"="+encodeURIComponent(u(a,c)))}return b.join("&")}function df(){var a=ub(Te);return a.scheme+"://"+a.host+"/v2"};function ef(){return!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(navigator.userAgent)}function ff(){var a=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){if((a=a.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1])}else if(-1<a.indexOf("Trident")&&(a=a.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<a.length)return 8<=parseFloat(a[1]);return!1};function gf(a){a=a||{};a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
gf.prototype.open=function(a,b,c){function d(){c&&(c(U("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;Ze(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=sa(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(U("SERVER_ERROR")):c(U("NETWORK_ERROR"));c=null;$e(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+cf(b),g=null;else{var k=this.options.headers.content_type;
"application/json"===k&&(g=v(b));"application/x-www-form-urlencoded"===k&&(g=cf(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};zd(a,this.options.headers);for(var l in a)e.setRequestHeader(l,a[l]);e.send(g)};gf.isAvailable=function(){return!!window.XMLHttpRequest&&"string"===typeof(new XMLHttpRequest).responseType&&(!(navigator.userAgent.match(/MSIE/)||navigator.userAgent.match(/Trident/))||ff())};gf.prototype.oc=function(){return"json"};function hf(a){a=a||{};this.Qc=Ia()+Ia()+Ia();this.lf=a||{}}
hf.prototype.open=function(a,b,c){function d(){c&&(c(U("USER_CANCELLED")),c=null)}var e=this,f=ub(Te),g;b.requestId=this.Qc;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=cf(b);(g=window.open(a,"_blank","location=no"))&&ha(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{var f=a.url;try{var r=document.createElement("a");r.href=f;b=r.host===ub(Te).host&&"/blank/page.html"===r.pathname;break a}catch(s){}b=!1}b&&(a=bf(a.url),g.removeEventListener("exit",
d),g.close(),a=new Ue(null,null,{requestId:e.Qc,requestKey:a}),e.lf.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(U("TRANSPORT_UNAVAILABLE"))};na("fb.login.transports.CordovaInAppBrowser.prototype.open",hf.prototype.open);hf.isAvailable=function(){return ef()};hf.prototype.oc=function(){return"redirect"};function jf(a){a=a||{};if(!a.window_features||-1!==navigator.userAgent.indexOf("Fennec/")||-1!==navigator.userAgent.indexOf("Firefox/")&&-1!==navigator.userAgent.indexOf("Android"))a.window_features=void 0;a.window_name||(a.window_name="_blank");a.relay_url||(a.relay_url=df()+"/auth/channel");this.options=a}
jf.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);r&&(r=clearInterval(r));$e(window,"message",e);$e(window,"unload",d);if(n&&!a)try{n.close()}catch(b){k.postMessage("die",l)}n=k=void 0}function e(a){if(a.origin===l)try{var b=sa(a.data);"ready"===b.a?k.postMessage(s,l):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.Ag),c&&(c(null,b.d),c=null))}catch(e){}}var f=ff(),g,k,l=af(a);if(l!==af(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},
0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+cf(b);var n=window.open(a,this.options.window_name,this.options.window_features);k||(k=n);var r=setInterval(function(){n&&n.closed&&(d(!1),c&&(c(U("USER_CANCELLED")),c=null))},500),s=v({a:"request",d:b});Ze(window,"unload",d);Ze(window,"message",e)}};
na("fb.login.transports.Popup.prototype.open",jf.prototype.open);jf.isAvailable=function(){return"postMessage"in window&&!/^file:\//.test(location.href)&&!(ef()||navigator.userAgent.match(/Windows Phone/)||window.Windows&&/^ms-appx:/.test(location.href)||navigator.userAgent.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||navigator.userAgent.match(/CriOS/)||navigator.userAgent.match(/Twitter for iPhone/)||navigator.userAgent.match(/FBAN\/FBIOS/)||window.navigator.standalone)&&!navigator.userAgent.match(/PhantomJS/)};
jf.prototype.oc=function(){return"popup"};function kf(a){a=a||{};a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
kf.prototype.open=function(a,b,c){function d(){c&&(c(U("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){delete window.__firebase_auth_jsonp[f];wd(window.__firebase_auth_jsonp)&&delete window.__firebase_auth_jsonp;try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);$e(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+cf(b);Ze(window,
"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};lf(f,a,c)};function lf(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(U("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(U("NETWORK_ERROR"))}},0)}
kf.isAvailable=function(){return!ef()};kf.prototype.oc=function(){return"json"};function mf(a,b){this.Ee=["session",a.Cd,a.zb].join(":");this.Md=b}mf.prototype.set=function(a,b){if(!b)if(this.Md.length)b=this.Md[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.Ee,a)};mf.prototype.get=function(){var a=Ma(this.Md,q(this.Sf,this)),a=La(a,function(a){return null!==a});Ua(a,function(a,c){return qe(c.token)-qe(a.token)});return 0<a.length?a.shift():null};mf.prototype.Sf=function(a){try{var b=a.get(this.Ee);if(b&&b.token)return b}catch(c){}return null};
mf.prototype.clear=function(){var a=this;Ka(this.Md,function(b){b.remove(a.Ee)})};function nf(a){a=a||{};this.Qc=Ia()+Ia()+Ia();this.lf=a||{}}nf.prototype.open=function(a,b){wa.set("redirect_request_id",this.Qc);b.requestId=this.Qc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+cf(b);window.location=a};na("fb.login.transports.Redirect.prototype.open",nf.prototype.open);nf.isAvailable=function(){return!/^file:\//.test(location.href)&&!ef()};nf.prototype.oc=function(){return"redirect"};function of(a,b,c,d){od.call(this,["auth_status"]);this.S=a;this.Re=b;this.wg=c;this.ze=d;this.gc=new mf(a,[va,wa]);this.kb=null;pf(this)}oa(of,od);h=of.prototype;h.le=function(){return this.kb||null};function pf(a){wa.get("redirect_request_id")&&qf(a);var b=a.gc.get();b&&b.token?(rf(a,b),a.Re(b.token,function(c,d){sf(a,c,d,!1,b.token,b)},function(b,d){tf(a,"resumeSession()",b,d)})):rf(a,null)}
function uf(a,b,c,d,e,f){"firebaseio-demo.com"===a.S.domain&&z("FirebaseRef.auth() not supported on demo Firebases (*.firebaseio-demo.com). Please use on production Firebases only (*.firebaseio.com).");a.Re(b,function(f,k){sf(a,f,k,!0,b,c,d||{},e)},function(b,c){tf(a,"auth()",b,c,f)})}function vf(a,b){a.gc.clear();rf(a,null);a.wg(function(a,d){if("ok"===a)B(b);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;B(b,f)}})}
function sf(a,b,c,d,e,f,g,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=re(e)?e:"",c=null,b&&t(b,"uid")?c=u(b,"uid"):t(f,"uid")&&(c=u(f,"uid")),f.uid=c,c="custom",b&&t(b,"provider")?c=u(b,"provider"):t(f,"provider")&&(c=u(f,"provider")),f.provider=c,a.gc.clear(),re(e)&&(g=g||{},c=va,"sessionOnly"===g.remember&&(c=wa),"none"!==g.remember&&a.gc.set(f,c)),rf(a,f)),B(k,null,f)):(a.gc.clear(),rf(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,B(k,f))}
function tf(a,b,c,d,e){z(b+" was canceled: "+d);a.gc.clear();rf(a,null);a=Error(d);a.code=c.toUpperCase();B(e,a)}function wf(a,b,c,d){xf(a);var e=[gf,kf];c=We(c);yf(a,e,"/auth/"+b,c,d)}
function zf(a,b,c,d){xf(a);var e=[jf,hf];c=We(c);"anonymous"===b||"password"===b?setTimeout(function(){B(d,U("TRANSPORT_UNAVAILABLE"))},0):(c.Qd.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.Qd.relay_url=df()+"/"+a.S.zb+"/auth/channel",c.Qd.requestWithCredential=q(a.Rc,a),yf(a,e,"/auth/"+b,c,d))}
function qf(a){var b=wa.get("redirect_request_id");if(b){var c=wa.get("redirect_client_options");wa.remove("redirect_request_id");wa.remove("redirect_client_options");var d=[gf,kf],b={requestId:b,requestKey:bf(document.location.hash)},c=new Ue(c,{},b);try{document.location.hash=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,"")}catch(e){}yf(a,d,"/auth/session",c)}}h.he=function(a,b){xf(this);var c=We(a);c.fc._method="POST";this.Rc("/users",c,function(a){B(b,a)})};
h.Ge=function(a,b){var c=this;xf(this);var d="/users/"+encodeURIComponent(a.email),e=We(a);e.fc._method="DELETE";this.Rc(d,e,function(a,d){!a&&d&&d.uid&&c.kb&&c.kb.uid&&c.kb.uid===d.uid&&vf(c);B(b,a)})};h.ce=function(a,b){xf(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=We(a);d.fc._method="PUT";d.fc.password=a.newPassword;this.Rc(c,d,function(a){B(b,a)})};
h.He=function(a,b){xf(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=We(a);d.fc._method="POST";this.Rc(c,d,function(a){B(b,a)})};h.Rc=function(a,b,c){Af(this,[gf,kf],a,b,c)};function yf(a,b,c,d,e){Af(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?uf(a,c.token,c,d.ad,function(a,b){a?B(e,a):B(e,null,b)}):B(e,b||U("UNKNOWN_ERROR"))})}
function Af(a,b,c,d,e){b=La(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){B(e,U("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.Qd),d=qa(d.fc),d.v="js-1.2.0-beta.1",d.transport=b.oc(),d.suppress_status_codes=!0,a=df()+"/"+a.S.zb+c,b.open(a,d,function(a,b){if(a)B(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;B(e,c)}else B(e,null,b)}))}
function rf(a,b){var c=null!==a.kb||null!==b;a.kb=b;c&&a.Rd("auth_status",b);a.ze(null!==b)}h.ne=function(a){x("auth_status"===a,'initial event must be of type "auth_status"');return[this.kb]};function xf(a){var b=a.S;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===Te)throw Error("This custom Firebase server ('"+a.S.domain+"') does not support delegated login.");};function Bf(a,b){return a&&"object"===typeof a?(x(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Cf(a,b){var c=new Ke;Me(a,new N(""),function(a,e){c.cc(a,Df(e,b))});return c}function Df(a,b){var c=a.Q().O(),c=Bf(c,b),d;if(a.R()){var e=Bf(a.ra(),b);return e!==a.ra()||c!==a.Q().O()?new Uc(e,D(c)):a}d=a;c!==a.Q().O()&&(d=d.gb(new Uc(c)));a.ga(F,function(a,c){var e=Df(c,b);e!==c&&(d=d.w(a,e))});return d};function V(a,b,c,d){this.type=a;this.Va=b;this.ob=c;this.Mc=null;this.Zf=d};function Ef(){}var Ff=new Ef;function Gf(a,b,c,d){var e,f;f=W(c);e=W(b);if(d.e())return c.o?(a=[],e?e.aa(f)||(e.R()?a=Hf(f):f.R()?(a=[],e.R()||e.e()||a.push(new V("children_removed",e))):a=If(e,f),a.push(new V("value",f))):(a=Hf(f),a.push(new V("value",f))),0!==a.length||b.o||a.push(new V("value",f)),a):e?If(e,f):Hf(f);if(".priority"===J(d))return!c.o||e&&e.aa(f)?[]:[new V("value",f)];if(c.o||1===O(d))return e=J(d),f=f.I(e),a.dd(b,c,e,f);e=J(d);return f.$(e)?(f=f.I(e),a.dd(b,c,e,f)):[]}
Ef.prototype.dd=function(a,b,c,d){(a=W(a))?a.$(c)?(a=a.I(c),c=a.aa(d)?[]:d.e()?[new V("child_removed",a,c)]:[new V("child_changed",d,c,a)]):c=d.e()?[]:[new V("child_added",d,c)]:c=d.e()?[]:[new V("child_added",d,c)];0<c.length&&b.o&&c.push(new V("value",W(b)));return c};function Hf(a){var b=[];a.R()||a.e()||b.push(new V("children_added",a));return b}
function If(a,b){var c=[],d=[],e=[],f=[],g={},k={},l,n,r,s;l=a.Aa(F);r=T(l);n=b.Aa(F);s=T(n);for(var y=Kb(F);null!==r||null!==s;){var P;P=r?s?y(r,s):-1:1;0>P?(P=u(g,r.name),m(P)?(f.push(d[P]),d[P]=null):(k[r.name]=e.length,e.push(r)),r=T(l)):(0<P?(P=u(k,s.name),m(P)?(f.push(s),e[P]=null):(g[s.name]=d.length,d.push(s))):((r=r.L.hash()!==s.L.hash())&&f.push(s),r=T(l)),s=T(n))}for(g=0;g<e.length;g++)(k=e[g])&&c.push(new V("child_removed",k.L,k.name));for(g=0;g<d.length;g++)(e=d[g])&&c.push(new V("child_added",
e.L,e.name));for(g=0;g<f.length;g++)d=f[g],c.push(new V("child_changed",d.L,d.name,a.I(d.name)));return c}function Jf(a,b,c){this.wb=a;this.Oa=c;this.G=b}oa(Jf,Ef);
Jf.prototype.dd=function(a,b,c,d){var e=W(a)||E,f=W(b)||E;if(e.Za()<this.wb||f.Za()<this.wb)return Jf.Ne.dd.call(this,a,b,c,d);x(!e.R()&&!f.R(),"If it's a leaf node, we should have hit the above case.");a=[];var g=e.I(c);g.e()?f.$(c)&&(e=this.Oa?gd(e,this.G):hd(e,this.G),a.push(new V("child_removed",e.L,e.name)),a.push(new V("child_added",d,c))):f.$(c)?d.aa(g)||a.push(new V("child_changed",d,c,e.I(c))):(a.push(new V("child_removed",g,c)),e=this.Oa?gd(f,this.G):hd(f,this.G),a.push(new V("child_added",
e.L,e.name)));0<a.length&&b.o&&a.push(new V("value",f));return a};function Kf(){}h=Kf.prototype;
h.ya=function(a,b,c,d){if(b.type===Lf){if(b.source.ke)return this.lc(a,b.path,b.Qa,c,d);x(b.source.af,"Unknown source.");return this.jb(a,b.path,b.Qa,c,d)}if(b.type===Mf){if(b.source.ke)return this.Yd(a,b.path,b.children,c,d);x(b.source.af,"Unknown source.");return this.Xd(a,b.path,b.children,c,d)}if(b.type===Nf){if(b.tf)a:{var e=b.path;Of(this,a);b=a.o;var f=a.F;if(a.k){x(a.o,"Must have event snap if we have server snap");var g=c.Wa(e,a.o,a.k);if(g)if(b=a.o.u(e,g),e.e())b=this.X(this.n(b));else{f=
J(e);b=b.I(f);a=this.Fa(a,f,b,a.k,a.g,c,d);break a}}else if(a.g)if(a.o)(d=c.Kb())?b=this.X(this.n(d)):(c=c.Wa(e,a.o,a.g))&&(b=this.n(b.u(e,c)));else{if(x(a.F,"We must at least have complete children"),x(!e.e(),"If the path were empty, we would have an event snap from the set"),c=c.Wa(e,a.F,a.g))f=a.F.u(e,c),f=this.n(f)}else if(a.o)(c=c.Kb())&&(b=this.X(this.n(c)));else if(a.F){x(!e.e(),"If the path was empty, we would have an event snap");g=J(e);if(a.F.$(g)){a=(b=c.ib.Kb(c.fb.B(g)))?this.Fa(a,g,b,
a.k,a.g,c,d):this.Fa(a,g,E,a.k,a.g,c,null);break a}x(1<O(e),"Must be a deep set being reverted")}a=new X(a.k,a.g,b,f)}else a=this.Ga(a,b.path,c,d);return a}throw ib("Unknown operation type: "+b.type);};function Of(a,b){Pf(a,b.k);Pf(a,b.g);Pf(a,b.o);Pf(a,b.F)}h.Te=function(a){return a};function Pf(a,b){x(!b||a.Ub(b),"Expected an indexed snap")}
h.lc=function(a,b,c,d,e){Of(this,a);return 1===O(b)&&".priority"!==J(b)?this.Fa(a,J(b),c,a.k,a.g,d,e):b.e()?(b=this.n(this.X(c)),new X(a.k,a.g,b,null)):a.o?(b=this.n(a.o.u(b,c)),new X(a.k,a.g,b,null)):1===O(b)?(x(".priority"===J(b),"This should be handled above"),d=a.F||this.X(E),b=this.n(d.w(J(b),c)),new X(a.k,a.g,null,b)):a.F?a.F.$(J(b))?new X(a.k,a.g,null,this.n(a.F.u(b,c))):a:a};
h.Yd=function(a,b,c,d,e){Of(this,a);if(a.o){var f=a.o;A(c,function(a,c){f=f.u(b.B(c),a)});if(b.e())return new X(a.k,a.g,this.n(f),null);c=J(b);var g=f.I(c);return this.Fa(a,c,g,a.k,a.g,d,e)}if(b.e()){var k=a.F||this.X(E);A(c,function(a,b){k=k.w(b,a)});return new X(a.k,a.g,null,this.n(k))}d=J(b);if(a.F&&a.F.$(d)){var l=a.F.P(b);A(c,function(a,b){l=l.w(b,a)});d=this.n(a.F.u(b,l));return new X(a.k,a.g,null,d)}return a};
h.Ga=function(a,b,c,d){var e=a.o,f=a.F,g;Of(this,a);if(a.k){x(e,"If we have a server snap, we must have an event snap");var k=c.Wa(b,a.o,a.k);if(k)if(b.e())e=this.n(this.X(k));else return g=J(b),b=e.u(b,k).I(g),this.Fa(a,g,b,a.k,a.g,c,d)}else if(a.g)if(e){var l=!1;a.g.ga(F,function(a,b){l||e.I(a).aa(b)||(l=!0);l&&(e=e.w(a,b))});l&&(e=this.n(e))}else if(f&&(x(0<O(b),"If it were an empty path, we would have an event snap"),g=J(b),1===O(b)||f.$(g))&&(k=c.Wa(b,f,a.g)))return b=f.u(b,k).I(g),this.Fa(a,
g,b,a.k,a.g,c,d);return new X(a.k,a.g,e,f)};
h.jb=function(a,b,c,d,e){var f;Of(this,a);var g=a.k,k=a.g;a.k?g=b.e()?this.n(this.X(c)):this.n(this.X(a.k.u(b,c))):b.e()?(g=this.n(this.X(c)),k=null):1!==O(b)||!a.g&&c.e()?a.g&&(f=J(b),a.g.$(f)&&(k=this.n(a.g.w(f,c)))):(k=a.g||this.X(E),k=this.n(k.u(b,c)));f=!1;var l=a.o,n=a.F;if(g!==a.k||k!==a.g)if(g&&!l)l=this.n(this.X(d.za(g))),n=null;else if(g&&l&&g.P(b).aa(l.P(b)))f=!0;else if(c=d.Wa(b,l,g||k))if(b.e())l=this.n(this.X(c)),n=null;else{f=J(b);b=Q(b);a:{l=f;if(a.o)l=a.o.I(l);else if(a.F)a.F.$(l)?
l=a.F.I(l):(x(b.e(),"According to precondition, this must be true"),l=E);else{if(b.e())break a;x(a.k||a.g,"If we do not have event data, we must have server data");l=(a.k||a.g).I(l)}c=l.u(b,c)}return this.Fa(a,f,c,g,k,d,e)}else f=!0;x(!f||l===a.o&&n===a.F,"We thought we could skip diffing, but we changed the eventCache.");return new X(g,k,l,n)};
h.Xd=function(a,b,c,d,e){if(!a.k&&!a.g&&b.e())return a;Of(this,a);var f=a.k,g=a.g;if(a.k)A(c,function(a,c){f=f.u(b.B(c),a)}),f=this.n(f);else if(b.e())g=a.g||this.X(E),A(c,function(a,b){g=g.w(b,a)}),g=this.n(g);else if(a.g&&a.g.$(J(b))){var k=a.g.P(b);A(c,function(a,b){k=k.w(b,a)});g=this.n(a.g.u(b,k))}var l=!1,n=a.o,r=a.F;if(f!==a.k||g!==a.g)if(f&&f.P(b).aa(n.P(b)))l=!0;else if(x(null!=n||null!=r,"We should have an event cache."),c=d.ae(b,c,n||r))if(b.e())n?n=this.n(this.X(c)):r=this.n(this.X(c));
else return l=J(b),n?n=n.u(b,c).I(l):(x(r,"If there was some server data, we must have event children"),n=r.u(b,c).I(l)),this.Fa(a,l,n,f,g,d,e);else l=!0;x(!l||n===a.o&&r===a.F,"We thought we could skip diffing, but we changed the eventCache.");return new X(f,g,n,r)};h.Fa=function(a,b,c,d,e){var f=a.o;a=a.F;f?f=this.n(f.w(b,c)):(a||(a=this.X(E)),a=this.n(a.w(b,c)));return new X(d,e,f,a)};h.n=function(a){return a};function Qf(a){this.ab=a;this.index=a.G;this.ab.wa&&m(Sb(this.ab))?(a=this.ab,x(a.wa,"Only valid if start has been set"),a=a.hc?a.Tb:"[MIN_NAME]",a=this.index.we(Sb(this.ab),a)):a=this.index.ye();this.Jd=a;this.ab.Ja&&m(Tb(this.ab))?(a=this.ab,x(a.Ja,"Only valid if end has been set"),a=a.tc?a.Qb:"[MAX_NAME]",a=this.index.we(Tb(this.ab),a)):a=this.index.xe();this.gd=a}oa(Qf,Kf);Qf.prototype.X=function(a){return a.hb(this.index)};Qf.prototype.Ub=function(a){return a.Ub(this.index)};
Qf.prototype.Te=function(a){return new X(a.k&&this.n(a.k.hb(this.index)),a.g&&this.n(a.g.hb(this.index)),a.o&&this.n(a.o.hb(this.index)),a.F&&this.n(a.F.hb(this.index)))};Qf.prototype.n=function(a){if(a.R())return E;for(var b=this.Jd,c=this.gd,d=Kb(this.index),e=a.Aa(this.index),f=T(e);f&&0<d(b,f);)a=a.w(f.name,E),f=T(e);e=a.rb(c,this.index);for((f=T(e))&&0>=d(f,c)&&(f=T(e));f;)a=a.w(f.name,E),f=T(e);return a};function Rf(a){Qf.call(this,a);this.Oa=!a.wa;this.wb=Vb(a)}oa(Rf,Qf);Rf.prototype.ya=function(a,b,c,d){if(b.type===Mf&&b.source.ke){var e=b.path,f=b.children,g=W(a);if(g&&e.e()&&ud(f,function(a,b){return g.$(b)})){var k;(b=c.za(d||a.k||a.g))?k=this.n(this.X(b)):(k=g||E,A(f,function(a,b){k=k.w(b,a)}),k=this.n(this.X(k)));return a.o?new X(a.k,a.g,k,null):new X(a.k,a.g,null,k)}}return Rf.Ne.ya.call(this,a,b,c,d)};
Rf.prototype.n=function(a){Pf(this,a);if(a.R())return E;var b,c,d;if(2*this.wb<a.Za())for(b=E.gb(a.Q()).hb(this.index),a=this.Oa?a.Ob(this.gd,this.index):a.rb(this.Jd,this.index),c=T(a),d=0;c&&d<this.wb;)b=b.w(c.name,c.L),d++,c=T(a);else{b=a;var e,f=Kb(this.index);if(this.Oa){a=a.cf(this.index);e=this.gd;var g=f,f=function(a,b){return-1*g(a,b)}}else a=a.Aa(this.index),e=this.Jd;d=0;for(c=T(a);c;)0>=f(e,c)&&d<this.wb?d++:b=b.w(c.name,E),c=T(a)}return b};
Rf.prototype.Fa=function(a,b,c,d,e,f,g){var k=W(a);return!k||k.Za()<this.wb?Rf.Ne.Fa.call(this,a,b,c,d,e,f,g):k.$(b)?(b=Sf(this,a,b,c,f,g))?a.o?new X(a.k,a.g,b,null):new X(a.k,a.g,null,b):a:c.e()?a:(b=Sf(this,a,b,c,f,g))?a.o?new X(a.k,a.g,b,null):new X(a.k,a.g,null,b):a};function Sf(a,b,c,d,e,f){var g=new C(c,d),k=Kb(a.index);return a.Oa?0>=k(g,a.gd)?Tf(a,b,c,d,e,f||b.k||b.g):null:0>=k(a.Jd,g)?Tf(a,b,c,d,e,f||b.k||b.g):null}
function Tf(a,b,c,d,e,f){var g=Kb(a.index),k;k=a.Oa?function(a,b){return-1*g(a,b)}:g;b=W(b);var l=new C(c,d),n=a.Oa?gd(b,a.index):hd(b,a.index);if(b.$(c)){a=e.be(f,n,1,a.Oa,".priority");if(0===a.length)return b.w(c,d);a=a[0];return!d.e()&&0<=k(a,l)?b.w(c,d):b.w(c,E).w(a.name,a.L)}return 0<=k(n,l)?b.w(c,d).w(n.name,E):null};function Uf(a){this.G=a}oa(Uf,Kf);Uf.prototype.X=function(a){return a.hb(this.G)};Uf.prototype.Ub=function(a){return a.Ub(this.G)};function Vf(a){this.Y=a;this.G=a.C.G}
function Wf(a,b,c,d){var e=[],f=a.G,g=Ma(La(b,function(a){return"child_changed"===a.type&&f.ef(a.Zf,a.Va)}),function(a){return new V("child_moved",a.Va,a.ob)}),k=Qa(b,function(a){return"child_removed"!==a.type&&"child_added"!==a.type});for(la(Sa,b,k,0).apply(null,g);0<b.length;){var g=b[0].type,k=Xf(b,g),l=b.slice(0,k);b=b.slice(k);"value"===g||"children_added"===g||"children_removed"===g?x(1===l.length,"We should not have more than one of these at a view"):Ua(l,q(a.Lf,a));e=e.concat(Yf(a,d,l,c))}return e}
function Xf(a,b){var c=Qa(a,function(a){return a.type!==b});return-1===c?a.length:c}
function Yf(a,b,c,d){for(var e=[],f=0;f<c.length;++f)for(var g=c[f],k=null,l=null,n=0;n<b.length;++n){var r=b[n];if(r.qf(g.type)){if(!k&&!l)if("children_added"===g.type){var s=a,y=g.Va,l=[];if(!y.R()&&!y.e())for(var s=y.Aa(s.G),y=null,P=T(s);P;){var se=new V("child_added",P.L,P.name);se.Mc=y;l.push(se);y=P.name;P=T(s)}}else if("children_removed"===g.type){if(s=a,y=g.Va,l=[],!y.R()&&!y.e())for(s=y.Aa(s.G),y=T(s);y;)l.push(new V("child_removed",y.L,y.name)),y=T(s)}else k=g,"value"!==k.type&&"child_removed"!==
k.type&&(k.Mc=d.bf(k.ob,k.Va,a.G));if(k)e.push(r.createEvent(k,a.Y));else for(s=0;s<l.length;++s)e.push(r.createEvent(l[s],a.Y))}}return e}Vf.prototype.Lf=function(a,b){if(null==a.ob||null==b.ob)throw ib("Should only compare child_ events.");return this.G.compare(new C(a.ob,a.Va),new C(b.ob,b.Va))};function Zf(a,b){this.Y=a;var c=a.C;Xb(c)?(this.$b=new Uf(c.G),this.ed=Ff):c.sa?(this.$b=new Rf(c),this.ed=new Jf(Vb(c),c.G,this.$b.Oa)):(this.$b=new Qf(c),this.ed=Ff);this.la=this.$b.Te(b);this.Ka=[];this.Ye=new Vf(a)}function $f(a){return a.Y}h=Zf.prototype;h.ma=function(){return this.la.ma()};h.e=function(){return 0===this.Ka.length};h.Fb=function(a){this.Ka.push(a)};
h.eb=function(a,b){var c=[];if(b){x(null==a,"A cancel should cancel all event registrations.");var d=this.Y.path;Ka(this.Ka,function(a){(a=a.Ue(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.Ka.length;++f){var g=this.Ka[f];if(!g.matches(a))e.push(g);else if(a.df()){e=e.concat(this.Ka.slice(f+1));break}}this.Ka=e}else this.Ka=[];return c};
h.ya=function(a,b,c){a.type===Mf&&null!==a.source.Nc&&(x(this.la.ma(),"We should always have a full cache before handling merges"),x(!!this.la.o,"Missing event cache, even though we have a server cache"));var d=this.la;b=this.$b.ya(d,a,b,c);Of(this.$b,b);this.la=b;return W(b)!==W(d)?(a=Gf(this.ed,d,b,a.path),Wf(this.Ye,a,W(b),this.Ka)):[]};function X(a,b,c,d){this.k=a;this.g=b;this.o=c;this.F=d;x(null==a||null==b,"Only one of serverSnap / serverChildren can be non-null.");x(null==c||null==d,"Only one of eventSnap / eventChildren can be non-null.")}function W(a){return a.o||a.F}X.prototype.ma=function(){return this.k};var ag=new X(null,null,null,null);function bg(a,b){this.value=a;this.children=b||cg}var cg=new Gc(function(a,b){return a===b?0:a<b?-1:1}),dg=new bg(null);h=bg.prototype;h.e=function(){return null===this.value&&this.children.e()};function eg(a,b,c){if(null!=a.value&&c(a.value))return{path:R,value:a.value};if(b.e())return null;var d=J(b);a=a.children.get(d);return null!==a?(b=eg(a,Q(b),c),null!=b?{path:(new N(d)).B(b.path),value:b.value}:null):null}function fg(a,b){return eg(a,b,function(){return!0})}
h.subtree=function(a){if(a.e())return this;var b=this.children.get(J(a));return null!==b?b.subtree(Q(a)):dg};h.set=function(a,b){if(a.e())return new bg(b,this.children);var c=J(a),d=(this.children.get(c)||dg).set(Q(a),b),c=this.children.La(c,d);return new bg(this.value,c)};
h.remove=function(a){if(a.e())return this.children.e()?dg:new bg(null,this.children);var b=J(a),c=this.children.get(b);return c?(a=c.remove(Q(a)),b=a.e()?this.children.remove(b):this.children.La(b,a),null===this.value&&b.e()?dg:new bg(this.value,b)):this};h.get=function(a){if(a.e())return this.value;var b=this.children.get(J(a));return b?b.get(Q(a)):null};
function gg(a,b,c){if(b.e())return c;var d=J(b);b=gg(a.children.get(d)||dg,Q(b),c);d=b.e()?a.children.remove(d):a.children.La(d,b);return new bg(a.value,d)}function hg(a,b){return ig(a,R,b)}function ig(a,b,c){var d={};a.children.Ba(function(a,f){d[a]=ig(f,b.B(a),c)});return c(b,a.value,d)}function jg(a,b,c){return kg(a,b,R,c)}function kg(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=J(b);return(a=a.children.get(e))?kg(a,Q(b),c.B(e),d):null}
function lg(a,b,c){if(!b.e()){var d=!0;a.value&&(d=c(R,a.value));!0===d&&(d=J(b),(a=a.children.get(d))&&mg(a,Q(b),R.B(d),c))}}function mg(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=J(b);return(a=a.children.get(e))?mg(a,Q(b),c.B(e),d):dg}function ng(a,b){og(a,R,b)}function og(a,b,c){a.children.Ba(function(a,e){og(e,b.B(a),c)});a.value&&c(b,a.value)}function pg(a,b){a.children.Ba(function(a,d){d.value&&b(a,d.value)})};function qg(){this.xa={}}h=qg.prototype;h.e=function(){return wd(this.xa)};h.ya=function(a,b,c){var d=a.source.Nc;if(null!==d)return d=u(this.xa,d),x(null!=d,"SyncTree gave us an op for an invalid query."),d.ya(a,b,c);var e=[];A(this.xa,function(d){e=e.concat(d.ya(a,b,c))});return e};h.Fb=function(a,b,c,d,e){var f=a.Da(),g=u(this.xa,f);g||(c=(g=c.za(d))?null:c.$d(e),d=new X(d,e,g,c),g=new Zf(a,d),this.xa[f]=g);g.Fb(b);a=g;(f=W(a.la))?(d=Gf(a.ed,ag,a.la,R),b=Wf(a.Ye,d,f,b?[b]:a.Ka)):b=[];return b};
h.eb=function(a,b,c){var d=a.Da(),e=[],f=[],g=null!=rg(this);if("default"===d){var k=this;A(this.xa,function(a,d){f=f.concat(a.eb(b,c));a.e()&&(delete k.xa[d],Xb(a.Y.C)||e.push(a.Y))})}else{var l=u(this.xa,d);l&&(f=f.concat(l.eb(b,c)),l.e()&&(delete this.xa[d],Xb(l.Y.C)||e.push(l.Y)))}g&&null==rg(this)&&e.push(new M(a.j,a.path));return{lg:e,Pf:f}};function sg(a){return La(sd(a.xa),function(a){return!Xb(a.Y.C)})}h.ma=function(a){var b=rg(this);return null!=b&&(b=b.ma())?b.P(a):null};
function tg(a,b){if(Xb(b.C))return rg(a);var c=b.Da();return u(a.xa,c)}function rg(a){return vd(a.xa,function(a){return Xb(a.Y.C)})||null};function ug(){this.V=dg;this.pa=[];this.zc=-1}
function vg(a,b){var c=Qa(a.pa,function(a){return a.Ud===b});x(0<=c,"removeWrite called with nonexistent writeId.");var d=a.pa[c];a.pa.splice(c,1);for(var e=!1,f=!1,g=!1,k=a.pa.length-1;!e&&0<=k;){var l=a.pa[k];k>=c&&wg(l,d.path)?e=!0:!f&&d.path.contains(l.path)&&(k>=c?f=!0:g=!0);k--}e||(f||g?xg(a):d.Qa?a.V=a.V.remove(d.path):A(d.children,function(b,c){a.V=a.V.remove(d.path.B(c))}));c=d.path;if(fg(a.V,c)){if(g)return c;x(e,"Must have found a shadow");return null}return c}h=ug.prototype;
h.Kb=function(a){var b=fg(this.V,a);if(b){var c=b.value;a=S(b.path,a);return c.P(a)}return null};
h.za=function(a,b,c,d){var e,f;if(c||d)return e=this.V.subtree(a),!d&&e.e()?b:d||null!==b||null!==e.value?(e=yg(this.pa,function(b){return(b.visible||d)&&(!c||!(0<=Ja(c,b.Ud)))&&(b.path.contains(a)||a.contains(b.path))},a),f=b||E,ng(e,function(a,b){f=f.u(a,b)}),f):null;if(e=fg(this.V,a))return b=S(e.path,a),e.value.P(b);e=this.V.subtree(a);return e.e()?b:b||e.value?(f=b||E,ng(e,function(a,b){f=f.u(a,b)}),f):null};
h.$d=function(a,b){var c=!1,d=E,e=this.Kb(a);if(e)return e.R()||e.ga(F,function(a,b){d=d.w(a,b)}),d;if(b)return d=b,pg(this.V.subtree(a),function(a,b){d=d.w(a,b)}),d;pg(this.V.subtree(a),function(a,b){c=!0;d=d.w(a,b)});return c?d:null};
h.Wa=function(a,b,c,d){x(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.B(b);if(fg(this.V,a))return null;a=this.V.subtree(a);if(a.e())return d.P(b);var e,f;c?(e=!1,f=c.P(b)):(e=!0,f=d.P(b));ng(a,function(a,b){e||f.P(a).aa(b)||(e=!0);e&&(f=f.u(a,b))});return e?f:null};
h.ae=function(a,b,c,d){x(d,"We should have an event cache already.");a=a.B(b);if(fg(this.V,a))return null;var e=d.P(b),f=!1,g=this.V.subtree(a);A(c,function(a,b){var c=new N(b),d=fg(g,c);if(d){var s=S(d.path,c),d=d.value.P(s);e=e.u(c,d)}else if(f=!0,d=g.subtree(c),d.e())e=e.u(c,a);else{var y=a;ng(d,function(a,b){y=y.u(a,b)});e=e.u(c,y)}});return f?e:null};
h.be=function(a,b,c,d,e,f){var g;a=this.V.subtree(a);a.value?g=a.value:b&&(g=b,ng(a,function(a,b){g=g.u(a,b)}));if(g){b=[];a=Kb(F);e=e?g.Ob(c,f):g.rb(c,f);for(f=T(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=T(e);return b}return[]};function wg(a,b){return a.Qa?a.path.contains(b):!!ud(a.children,function(c,d){return a.path.B(d).contains(b)})}function xg(a){a.V=yg(a.pa,zg,R);a.zc=0<a.pa.length?a.pa[a.pa.length-1].Ud:-1}function zg(a){return a.visible}
function yg(a,b,c){for(var d=dg,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path,k;f.Qa?(c.contains(g)?(k=S(c,g),f=f.Qa):(k=R,f=f.Qa.P(S(g,c))),d=Ag(d,k,f)):d=Bg(d,f.path,f.children)}}return d}function Ag(a,b,c){var d=fg(a,b);if(d){var e=d.value,d=d.path;b=S(d,b);c=e.u(b,c);a=gg(a,d,new bg(c))}else a=gg(a,b,new bg(c));return a}
function Bg(a,b,c){var d=fg(a,b);if(d){var e=d.value,d=d.path,f=S(d,b),g=e;A(c,function(a,b){g=g.u(f.B(b),a)});a=gg(a,d,new bg(g))}else A(c,function(c,d){a=gg(a,b.B(d),new bg(c))});return a}function Cg(a,b){this.fb=a;this.ib=b}h=Cg.prototype;h.Kb=function(){return this.ib.Kb(this.fb)};h.za=function(a,b,c){return this.ib.za(this.fb,a,b,c)};h.$d=function(a){return this.ib.$d(this.fb,a)};h.Wa=function(a,b,c){return this.ib.Wa(this.fb,a,b,c)};h.ae=function(a,b,c){return this.ib.ae(this.fb,a,b,c)};
h.be=function(a,b,c,d,e){return this.ib.be(this.fb,a,b,c,d,e)};h.B=function(a){return new Cg(this.fb.B(a),this.ib)};function Dg(a,b,c){this.type=Lf;this.source=a;this.path=b;this.Qa=c}Dg.prototype.yd=function(a){return this.path.e()?new Dg(this.source,R,this.Qa.I(a)):new Dg(this.source,Q(this.path),this.Qa)};function Eg(a,b){this.type=Nf;this.source=Fg;this.path=a;this.tf=b}Eg.prototype.yd=function(){return this.path.e()?this:new Eg(Q(this.path),this.tf)};function Gg(a,b,c){this.type=Mf;this.source=a;this.path=b;this.children=c}Gg.prototype.yd=function(a){return this.path.e()?(a=u(this.children,a))?new Dg(this.source,R,a):null:new Gg(this.source,Q(this.path),this.children)};var Lf=0,Mf=1,Nf=2;function Hg(a,b,c){this.ke=a;this.af=b;this.Nc=c}var Fg=new Hg(!0,!1,null),Ig=new Hg(!1,!0,null);function Jg(a){this.ja=dg;this.bb=new ug;this.Nd={};this.ac={};this.Ac=a}h=Jg.prototype;h.lc=function(a,b,c,d){var e=this.bb,f=d;x(c>e.zc,"Stacking an older write on top of newer ones");m(f)||(f=!0);e.pa.push({path:a,Qa:b,Ud:c,visible:f});f&&(e.V=Ag(e.V,a,b));e.zc=c;return d?Kg(this,new Dg(Fg,a,b)):[]};h.Yd=function(a,b,c){var d=this.bb;x(c>d.zc,"Stacking an older merge on top of newer ones");d.pa.push({path:a,children:b,Ud:c,visible:!0});d.V=Bg(d.V,a,b);d.zc=c;return Kg(this,new Gg(Fg,a,b))};
h.Ga=function(a,b){b=b||!1;var c=vg(this.bb,a);return null==c?[]:Kg(this,new Eg(c,b))};h.jb=function(a,b){return Kg(this,new Dg(Ig,a,b))};h.Xd=function(a,b){return Kg(this,new Gg(Ig,a,b))};function Lg(a,b,c,d){d=xd(a.Nd,"_"+d);if(null!=d){var e=Mg(d);d=e.path;var e=e.Nc,f=a.ja.get(d);x(f,"Missing sync point for query tag that we're tracking");b=S(d,b);return f.ya(new Dg(new Hg(!1,!0,e),b,c),new Cg(d,a.bb),null)}return[]}
function Ng(a,b,c,d){if(d=xd(a.Nd,"_"+d)){var e=Mg(d);d=e.path;var e=e.Nc,f=a.ja.get(d);x(f,"Missing sync point for query tag that we're tracking");b=S(d,b);return f.ya(new Gg(new Hg(!1,!0,e),b,c),new Cg(d,a.bb),null)}return[]}
h.Fb=function(a,b){var c=a.path,d=null,e=!1;lg(this.ja,c,function(a,b){var f=S(a,c);d=b.ma(f);e=e||null!=rg(b);return!d});var f=this.ja.get(c);f?(e=e||null!=rg(f),d=d||f.ma(R)):(f=new qg,this.ja=this.ja.set(c,f));var g=null;if(!d){var k=!1,g=E;pg(this.ja.subtree(c),function(a,b){var c=b.ma(R);c&&(k=!0,g=g.w(a,c))});k||(g=null)}var l=null!=tg(f,a);if(!l&&!Xb(a.C)){var n=Og(a);x(!(n in this.ac),"View does not exist, but we have a tag");var r=Pg++;this.ac[n]=r;this.Nd["_"+r]=n}n=f.Fb(a,b,new Cg(c,this.bb),
d,g);l||e||(f=tg(f,a),n=n.concat(Qg(this,a,f)));return n};
h.eb=function(a,b,c){var d=a.path,e=this.ja.get(d),f=[];if(e&&("default"===a.Da()||null!=tg(e,a))){f=e.eb(a,b,c);e.e()&&(this.ja=this.ja.remove(d));e=f.lg;f=f.Pf;b=-1!==Qa(e,function(a){return Xb(a.C)});var g=jg(this.ja,d,function(a,b){return null!=rg(b)});if(b&&!g&&(d=this.ja.subtree(d),!d.e()))for(var d=Rg(d),k=0;k<d.length;++k){var l=d[k],n=l.Y,l=Sg(this,l);this.Ac.Je(n,Tg(this,n),l.ld,l.M)}if(!g&&0<e.length&&!c)if(b)this.Ac.Ld(a,null);else{var r=this;Ka(e,function(a){a.Da();var b=r.ac[Og(a)];
r.Ac.Ld(a,b)})}Ug(this,e)}return f};h.za=function(a,b){var c=this.bb;return jg(this.ja,a,function(d,e){var f=S(d,a),f=e.ma(f);return c.za(a,f,b,!0)})};function Rg(a){return hg(a,function(a,c,d){if(c&&null!=rg(c))return[rg(c)];var e=[];c&&(e=sg(c));A(d,function(a){e=e.concat(a)});return e})}function Ug(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!Xb(d.C)){var d=Og(d),e=a.ac[d];delete a.ac[d];delete a.Nd["_"+e]}}}
function Qg(a,b,c){var d=b.path,e=Tg(a,b);c=Sg(a,c);b=a.Ac.Je(b,e,c.ld,c.M);d=a.ja.subtree(d);if(e)x(null==rg(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=hg(d,function(a,b,c){if(!a.e()&&b&&null!=rg(b))return[$f(rg(b))];var d=[];b&&(d=d.concat(Ma(sg(b),function(a){return a.Y})));A(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Ac.Ld(c,Tg(a,c));return b}
function Sg(a,b){var c=b.Y,d=Tg(a,c);return{ld:function(){return(b.ma()||E).hash()},M:function(e,f){if("ok"===e){if(f&&"object"===typeof f&&t(f,"w")){var g=u(f,"w");ea(g)&&0<=Ja(g,"no_index")&&z("Using an unspecified index. Consider adding "+('".indexOn": "'+c.C.G.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}g=b.ma()||E;return d?Lg(a,c.path,g,d):a.jb(c.path,g)}g="Unknown Error";"too_big"===e?g="The data requested exceeds the maximum size that can be accessed with a single request.":
"permission_denied"==e?g="Client doesn't have permission to access the desired data.":"unavailable"==e&&(g="The service is unavailable");g=Error(e+": "+g);g.code=e.toUpperCase();return a.eb(c,null,g)}}}function Og(a){return a.path.toString()+"$"+a.Da()}function Mg(a){var b=a.indexOf("$");x(-1!==b&&b<a.length-1,"Bad queryKey.");return{Nc:a.substr(b+1),path:new N(a.substr(0,b))}}function Tg(a,b){var c=Og(b);return u(a.ac,c)}var Pg=1;function Kg(a,b){return Vg(a,b,a.ja,null,new Cg(R,a.bb))}
function Vg(a,b,c,d,e){if(b.path.e())return Wg(a,b,c,d,e);var f=c.get(R);null==d&&null!=f&&(d=f.ma(R));var g=[],k=J(b.path),l=b.yd(k);if((c=c.children.get(k))&&l)var n=d?d.I(k):null,k=e.B(k),g=g.concat(Vg(a,l,c,n,k));f&&(g=g.concat(f.ya(b,e,d)));return g}function Wg(a,b,c,d,e){var f=c.get(R);null==d&&null!=f&&(d=f.ma(R));var g=[];c.children.Ba(function(c,f){var n=d?d.I(c):null,r=e.B(c),s=b.yd(c);s&&(g=g.concat(Wg(a,s,f,n,r)))});f&&(g=g.concat(f.ya(b,e,d)));return g};function Xg(a){this.S=a;this.Ea=Gd(a);this.ba=new Oe;this.ud=1;this.U=new te(this.S,q(this.xd,this),q(this.vd,this),q(this.Ce,this));this.wf=Hd(a,q(function(){return new Dd(this.Ea,this.U)},this));this.ic=new Ac;this.oe=new Ne;var b=this;this.pd=new Jg({Je:function(a,d,e,f){d=[];e=b.oe.Sc.P(a.path);e.e()||(d=b.pd.jb(a.path,e),setTimeout(function(){f("ok")},0));return d},Ld:ba});Yg(this,"connected",!1);this.ha=new Ke;this.W=new of(a,q(this.U.W,this.U),q(this.U.Pe,this.U),q(this.ze,this));this.cd=0;
this.pe=null;this.N=new Jg({Je:function(a,d,e,f){xe(b.U,a,e,d,function(d,e){var l=f(d,e);Se(b.ba,a.path,l)});return[]},Ld:function(a,d){var e=b.U,f=a.path.toString(),g=a.Da();e.f("Unlisten called for "+f+" "+g);if(ze(e,f,g)&&e.fa){var k=yc(a);e.f("Unlisten on "+f+" for "+g);f={p:f};d&&(f.q=k,f.t=d);e.va("n",f)}}})}h=Xg.prototype;h.toString=function(){return(this.S.Cb?"https://":"http://")+this.S.host};h.name=function(){return this.S.zb};
function Zg(a){var b=new N(".info/serverTimeOffset");a=a.oe.Sc.P(b).O()||0;return(new Date).getTime()+a}function $g(a){a=a={timestamp:Zg(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}h.xd=function(a,b,c,d){this.cd++;var e=new N(a);b=this.pe?this.pe(a,b):b;a=[];d?c?(b=ad(b,function(a){return D(a)}),a=Ng(this.N,e,b,d)):(b=D(b),a=Lg(this.N,e,b,d)):c?(d=ad(b,function(a){return D(a)}),a=this.N.Xd(e,d)):(d=D(b),a=this.N.jb(e,d));d=e;0<a.length&&(d=ah(this,e));Se(this.ba,d,a)};
h.vd=function(a){Yg(this,"connected",a);!1===a&&bh(this)};h.Ce=function(a){var b=this;Cb(a,function(a,d){Yg(b,d,a)})};h.ze=function(a){Yg(this,"authenticated",a)};function Yg(a,b,c){b=new N("/.info/"+b);c=D(c);var d=a.oe;d.Sc=d.Sc.u(b,c);c=a.pd.jb(b,c);Se(a.ba,b,c)}
h.Db=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,Cg:c});var e=$g(this);b=D(b,c);var e=Df(b,e),f=this.ud++,e=this.N.lc(a,e,f,!0);Pe(this.ba,e);var g=this;this.U.put(a.toString(),b.O(!0),function(b,c){var e="ok"===b;e||z("set at "+a+" failed: "+b);e=g.N.Ga(f,!e);Se(g.ba,a,e);ch(d,b,c)});e=dh(this,a);ah(this,e);Se(this.ba,e,[])};
h.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=$g(this),f={};A(b,function(a,b){d=!1;var c=D(a);f[b]=Df(c,e)});if(d)kb("update() called with empty data.  Don't do anything."),ch(c,"ok");else{var g=this.ud++,k=this.N.Yd(a,f,g);Pe(this.ba,k);var l=this;Fe(this.U,a.toString(),b,function(b,d){x("ok"===b||"permission_denied"===b,"merge at "+a+" failed.");var e="ok"===b;e||z("update at "+a+" failed: "+b);var e=l.N.Ga(g,!e),f=a;0<e.length&&(f=ah(l,a));Se(l.ba,f,e);ch(c,b,
d)});b=dh(this,a);ah(this,b);Se(this.ba,a,[])}};function bh(a){a.f("onDisconnectEvents");var b=$g(a),c=[];Me(Cf(a.ha,b),R,function(b,e){c=c.concat(a.N.jb(b,e));var f=dh(a,b);ah(a,f)});a.ha=new Ke;Se(a.ba,R,c)}h.Ae=function(a,b){var c=this;this.U.Ae(a.toString(),function(d,e){"ok"===d&&Le(c.ha,a);ch(b,d,e)})};function eh(a,b,c,d){var e=D(c);Be(a.U,b.toString(),e.O(!0),function(c,g){"ok"===c&&a.ha.cc(b,e);ch(d,c,g)})}
function fh(a,b,c,d,e){var f=D(c,d);Be(a.U,b.toString(),f.O(!0),function(c,d){"ok"===c&&a.ha.cc(b,f);ch(e,c,d)})}function gh(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(kb("onDisconnect().update() called with empty data.  Don't do anything."),ch(d,"ok")):De(a.U,b.toString(),c,function(e,f){if("ok"===e)for(var l in c){var n=D(c[l]);a.ha.cc(b.B(l),n)}ch(d,e,f)})}function hh(a){Bd(a.Ea,"deprecated_on_disconnect");a.wf.Me.deprecated_on_disconnect=!0}
function wc(a,b,c){c=".info"===J(b.path)?a.pd.Fb(b,c):a.N.Fb(b,c);xc(a.ba,b.path,c)}h.tb=function(){this.U.tb()};h.ec=function(){this.U.ec()};h.Ke=function(a){if("undefined"!==typeof console){a?(this.Kd||(this.Kd=new Cd(this.Ea)),a=this.Kd.get()):a=this.Ea.get();var b=Na(td(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.Le=function(a){Bd(this.Ea,a);this.wf.Me[a]=!0};h.f=function(a){kb("r:"+this.U.id+":",arguments)};
function ch(a,b,c){a&&Fb(function(){if("ok"==b)a(null,c);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function ih(a,b,c,d,e){function f(){}a.f("transaction on "+b);var g=new M(a,b);g.Ab("value",f);c={path:b,update:c,M:d,status:null,mf:hb(),Qe:e,sf:0,Td:function(){g.Yb("value",f)},Vd:null,qa:null,bd:null,rc:null};d=a.N.za(b,void 0)||E;c.bd=d;d=c.update(d.O());if(m(d)){cc("transaction failed: Data returned ",d);c.status=1;e=Bc(a.ic,b);var k=e.ra()||[];k.push(c);Cc(e,k);"object"===typeof d&&null!==d&&t(d,".priority")?(k=d[".priority"],x(null===k||"number"===typeof k||"string"===typeof k,"Invalid priority returned by transaction.")):
k=(a.N.za(b)||E).Q().O();e=$g(a);d=D(d,k);d=Df(d,e);c.rc=d;c.qa=a.ud++;c=a.N.lc(b,d,c.qa,c.Qe);Se(a.ba,b,c);jh(a)}else c.Td(),c.rc=null,c.M&&(a=new K(c.bd,new M(a,c.path),F),c.M(null,!1,a))}function jh(a,b){var c=b||a.ic;b||kh(a,c);if(null!==c.ra()){var d=lh(a,c);x(0<d.length,"Sending zero length transaction queue");Oa(d,function(a){return 1===a.status})&&mh(a,c.path(),d)}else c.kd()&&c.ga(function(b){jh(a,b)})}
function mh(a,b,c){for(var d=Ma(c,function(a){return a.qa}),e=a.N.za(b,d)||E,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];x(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.sf++;var k=S(b,g.path),d=d.u(k,g.rc)}d=d.O(!0);a.U.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(a.N.Ga(c[f].qa));if(c[f].M){var g=c[f].rc,k=new M(a,c[f].path);d.push(q(c[f].M,
null,null,!0,new K(g,k,F)))}c[f].Td()}kh(a,Bc(a.ic,b));jh(a);Se(a.ba,b,e);for(f=0;f<d.length;f++)Fb(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(z("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].Vd=d;ah(a,b)}},e)}function ah(a,b){var c=nh(a,b),d=c.path(),c=lh(a,c);oh(a,c,d);return d}
function oh(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Ma(b,function(a){return a.qa}),g=0;g<b.length;g++){var k=b[g],l=S(c,k.path),n=!1,r;x(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)n=!0,r=k.Vd,e=e.concat(a.N.Ga(k.qa,!0));else if(1===k.status)if(25<=k.sf)n=!0,r="maxretry",e=e.concat(a.N.Ga(k.qa,!0));else{var s=a.N.za(k.path,f)||E;k.bd=s;var y=b[g].update(s.O());m(y)?(cc("transaction failed: Data returned ",y),l=D(y),"object"===typeof y&&null!=y&&t(y,
".priority")||(l=l.gb(s.Q())),s=k.qa,k.rc=l,k.qa=a.ud++,Ra(f,s),e=e.concat(a.N.lc(k.path,l,k.qa,k.Qe)),e=e.concat(a.N.Ga(s,!0))):(n=!0,r="nodata",e=e.concat(a.N.Ga(k.qa,!0)))}Se(a.ba,c,e);e=[];n&&(b[g].status=3,setTimeout(b[g].Td,Math.floor(0)),b[g].M&&("nodata"===r?(k=new M(a,b[g].path),d.push(q(b[g].M,null,null,!1,new K(b[g].bd,k,F)))):d.push(q(b[g].M,null,Error(r),!1,null))))}kh(a,a.ic);for(g=0;g<d.length;g++)Fb(d[g]);jh(a)}}
function nh(a,b){for(var c,d=a.ic;null!==(c=J(b))&&null===d.ra();)d=Bc(d,c),b=Q(b);return d}function lh(a,b){var c=[];ph(a,b,c);c.sort(function(a,b){return a.mf-b.mf});return c}function ph(a,b,c){var d=b.ra();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.ga(function(b){ph(a,b,c)})}function kh(a,b){var c=b.ra();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Cc(b,0<c.length?c:null)}b.ga(function(b){kh(a,b)})}
function dh(a,b){var c=nh(a,b).path(),d=Bc(a.ic,b);Fc(d,function(b){qh(a,b)});qh(a,d);Ec(d,function(b){qh(a,b)});return c}
function qh(a,b){var c=b.ra();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(x(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].Vd="set"):(x(1===c[g].status,"Unexpected transaction status in abort"),c[g].Td(),e=e.concat(a.N.Ga(c[g].qa,!0)),c[g].M&&d.push(q(c[g].M,null,Error("set"),!1,null))));-1===f?Cc(b,null):c.length=f+1;Se(a.ba,b.path(),e);for(g=0;g<d.length;g++)Fb(d[g])}};function rh(){this.dc={}}ca(rh);rh.prototype.tb=function(){for(var a in this.dc)this.dc[a].tb()};rh.prototype.interrupt=rh.prototype.tb;rh.prototype.ec=function(){for(var a in this.dc)this.dc[a].ec()};rh.prototype.resume=rh.prototype.ec;function sh(a){var b=this;this.nc=a;this.Od="*";ff()?this.Cc=this.nd=Ye():(this.Cc=window.opener,this.nd=window);if(!b.Cc)throw"Unable to find relay frame";Ze(this.nd,"message",q(this.Zb,this));Ze(this.nd,"message",q(this.jf,this));try{th(this,{a:"ready"})}catch(c){Ze(this.Cc,"load",function(){th(b,{a:"ready"})})}Ze(window,"unload",q(this.dg,this))}function th(a,b){b=v(b);ff()?a.Cc.doPost(b,a.Od):a.Cc.postMessage(b,a.Od)}
sh.prototype.Zb=function(a){var b=this,c;try{c=sa(a.data)}catch(d){}c&&"request"===c.a&&($e(window,"message",this.Zb),this.Od=a.origin,this.nc&&setTimeout(function(){b.nc(b.Od,c.d,function(a,c){b.If=!c;b.nc=void 0;th(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};sh.prototype.dg=function(){try{$e(this.nd,"message",this.jf)}catch(a){}this.nc&&(th(this,{a:"error",d:"unknown closed window"}),this.nc=void 0);try{window.close()}catch(b){}};sh.prototype.jf=function(a){if(this.If&&"die"===a.data)try{window.close()}catch(b){}};var Y={Qf:function(){Td=Kd=!0}};Y.forceLongPolling=Y.Qf;Y.Rf=function(){Ud=!0};Y.forceWebSockets=Y.Rf;Y.rg=function(a,b){a.j.U.Ie=b};Y.setSecurityDebugCallback=Y.rg;Y.Ke=function(a,b){a.j.Ke(b)};Y.stats=Y.Ke;Y.Le=function(a,b){a.j.Le(b)};Y.statsIncrementCounter=Y.Le;Y.cd=function(a){return a.j.cd};Y.dataUpdateCount=Y.cd;Y.Uf=function(a,b){a.j.pe=b};Y.interceptServerData=Y.Uf;Y.ag=function(a){new sh(a)};Y.onPopupOpen=Y.ag;Y.og=function(a){Te=a};Y.setAuthenticationServer=Y.og;function Z(a,b){this.Oc=a;this.Ca=b}Z.prototype.cancel=function(a){G("Firebase.onDisconnect().cancel",0,1,arguments.length);I("Firebase.onDisconnect().cancel",1,a,!0);this.Oc.Ae(this.Ca,a||null)};Z.prototype.cancel=Z.prototype.cancel;Z.prototype.remove=function(a){G("Firebase.onDisconnect().remove",0,1,arguments.length);jc("Firebase.onDisconnect().remove",this.Ca);I("Firebase.onDisconnect().remove",1,a,!0);eh(this.Oc,this.Ca,null,a)};Z.prototype.remove=Z.prototype.remove;
Z.prototype.set=function(a,b){G("Firebase.onDisconnect().set",1,2,arguments.length);jc("Firebase.onDisconnect().set",this.Ca);bc("Firebase.onDisconnect().set",a,!1);I("Firebase.onDisconnect().set",2,b,!0);eh(this.Oc,this.Ca,a,b)};Z.prototype.set=Z.prototype.set;
Z.prototype.Db=function(a,b,c){G("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);jc("Firebase.onDisconnect().setWithPriority",this.Ca);bc("Firebase.onDisconnect().setWithPriority",a,!1);fc("Firebase.onDisconnect().setWithPriority",2,b,!1);I("Firebase.onDisconnect().setWithPriority",3,c,!0);fh(this.Oc,this.Ca,a,b,c)};Z.prototype.setWithPriority=Z.prototype.Db;
Z.prototype.update=function(a,b){G("Firebase.onDisconnect().update",1,2,arguments.length);jc("Firebase.onDisconnect().update",this.Ca);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;z("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ec("Firebase.onDisconnect().update",a);I("Firebase.onDisconnect().update",2,b,!0);gh(this.Oc,
this.Ca,a,b)};Z.prototype.update=Z.prototype.update;var $={};$.kc=te;$.DataConnection=$.kc;te.prototype.tg=function(a,b){this.va("q",{p:a},b)};$.kc.prototype.simpleListen=$.kc.prototype.tg;te.prototype.Nf=function(a,b){this.va("echo",{d:a},b)};$.kc.prototype.echo=$.kc.prototype.Nf;te.prototype.interrupt=te.prototype.tb;$.zf=de;$.RealTimeConnection=$.zf;de.prototype.sendRequest=de.prototype.va;de.prototype.close=de.prototype.close;
$.Tf=function(a){var b=te.prototype.put;te.prototype.put=function(c,d,e,f){m(f)&&(f=a());b.call(this,c,d,e,f)};return function(){te.prototype.put=b}};$.hijackHash=$.Tf;$.yf=xa;$.ConnectionTarget=$.yf;$.Da=function(a){return a.Da()};$.queryIdentifier=$.Da;$.Vf=function(a){return a.j.U.ta};$.listens=$.Vf;var uh=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);x(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);x(20===c.length,"NextPushId: Length should be 20.");
return c}}();function M(a,b){var c,d,e;if(a instanceof Xg)c=a,d=b;else{G("new Firebase",1,2,arguments.length);d=ub(arguments[0]);c=d.ug;"firebase"===d.domain&&tb(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c||tb("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.Cb||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&z("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new xa(d.host,d.Cb,c,"ws"===d.scheme||"wss"===d.scheme);d=new N(d.Kc);e=d.toString();var f;!(f=!p(c.host)||0===c.host.length||!ac(c.zb))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(p(e)&&0!==e.length&&!$b.test(e)));if(f)throw Error(H("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof rh)e=b;else if(p(b))e=rh.Mb(),c.Cd=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=rh.Mb();f=c.toString();var g=u(e.dc,f);g||(g=new Xg(c),e.dc[f]=g);c=g}L.call(this,c,d,Rb)}oa(M,L);na("Firebase",M);M.prototype.name=function(){G("Firebase.name",0,0,arguments.length);var a;this.path.e()?a=null:(a=this.path,a=a.da<a.A.length?a.A[a.A.length-1]:null);return a};M.prototype.name=M.prototype.name;
M.prototype.B=function(a){G("Firebase.child",1,1,arguments.length);if(ga(a))a=String(a);else if(!(a instanceof N))if(null===J(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));ic("Firebase.child",b)}else ic("Firebase.child",a);return new M(this.j,this.path.B(a))};M.prototype.child=M.prototype.B;M.prototype.parent=function(){G("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new M(this.j,a)};M.prototype.parent=M.prototype.parent;
M.prototype.root=function(){G("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};M.prototype.root=M.prototype.root;M.prototype.toString=function(){G("Firebase.toString",0,0,arguments.length);var a;if(null===this.parent())a=this.j.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a};M.prototype.toString=M.prototype.toString;
M.prototype.set=function(a,b){G("Firebase.set",1,2,arguments.length);jc("Firebase.set",this.path);bc("Firebase.set",a,!1);I("Firebase.set",2,b,!0);this.j.Db(this.path,a,null,b||null)};M.prototype.set=M.prototype.set;
M.prototype.update=function(a,b){G("Firebase.update",1,2,arguments.length);jc("Firebase.update",this.path);if(ea(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;z("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ec("Firebase.update",a);I("Firebase.update",2,b,!0);if(t(a,".priority"))throw Error("update() does not currently support updating .priority.");
this.j.update(this.path,a,b||null)};M.prototype.update=M.prototype.update;M.prototype.Db=function(a,b,c){G("Firebase.setWithPriority",2,3,arguments.length);jc("Firebase.setWithPriority",this.path);bc("Firebase.setWithPriority",a,!1);fc("Firebase.setWithPriority",2,b,!1);I("Firebase.setWithPriority",3,c,!0);if(".length"===this.name()||".keys"===this.name())throw"Firebase.setWithPriority failed: "+this.name()+" is a read-only object.";this.j.Db(this.path,a,b,c||null)};M.prototype.setWithPriority=M.prototype.Db;
M.prototype.remove=function(a){G("Firebase.remove",0,1,arguments.length);jc("Firebase.remove",this.path);I("Firebase.remove",1,a,!0);this.set(null,a)};M.prototype.remove=M.prototype.remove;
M.prototype.transaction=function(a,b,c){G("Firebase.transaction",1,3,arguments.length);jc("Firebase.transaction",this.path);I("Firebase.transaction",1,a,!1);I("Firebase.transaction",2,b,!0);if(m(c)&&"boolean"!=typeof c)throw Error(H("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.name()||".keys"===this.name())throw"Firebase.transaction failed: "+this.name()+" is a read-only object.";"undefined"===typeof c&&(c=!0);ih(this.j,this.path,a,b||null,c)};M.prototype.transaction=M.prototype.transaction;
M.prototype.qg=function(a,b){G("Firebase.setPriority",1,2,arguments.length);jc("Firebase.setPriority",this.path);fc("Firebase.setPriority",1,a,!1);I("Firebase.setPriority",2,b,!0);this.j.Db(this.path.B(".priority"),a,null,b)};M.prototype.setPriority=M.prototype.qg;M.prototype.push=function(a,b){G("Firebase.push",0,2,arguments.length);jc("Firebase.push",this.path);bc("Firebase.push",a,!0);I("Firebase.push",2,b,!0);var c=Zg(this.j),c=uh(c),c=this.B(c);"undefined"!==typeof a&&null!==a&&c.set(a,b);return c};
M.prototype.push=M.prototype.push;M.prototype.Na=function(){jc("Firebase.onDisconnect",this.path);return new Z(this.j,this.path)};M.prototype.onDisconnect=M.prototype.Na;M.prototype.kg=function(){z("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead.");this.Na().remove();hh(this.j)};M.prototype.removeOnDisconnect=M.prototype.kg;
M.prototype.pg=function(a){z("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead.");this.Na().set(a);hh(this.j)};M.prototype.setOnDisconnect=M.prototype.pg;M.prototype.W=function(a,b,c){z("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");G("Firebase.auth",1,3,arguments.length);kc("Firebase.auth",a);I("Firebase.auth",2,b,!0);I("Firebase.auth",3,b,!0);uf(this.j.W,a,{},{remember:"none"},b,c)};
M.prototype.auth=M.prototype.W;M.prototype.Pe=function(a){G("Firebase.unauth",0,1,arguments.length);I("Firebase.unauth",1,a,!0);vf(this.j.W,a)};M.prototype.unauth=M.prototype.Pe;M.prototype.le=function(){G("Firebase.getAuth",0,0,arguments.length);return this.j.W.le()};M.prototype.getAuth=M.prototype.le;M.prototype.$f=function(a,b){G("Firebase.onAuth",1,2,arguments.length);I("Firebase.onAuth",1,a,!1);Yb("Firebase.onAuth",2,b);this.j.W.Ab("auth_status",a,b)};M.prototype.onAuth=M.prototype.$f;
M.prototype.Yf=function(a,b){G("Firebase.offAuth",1,2,arguments.length);I("Firebase.offAuth",1,a,!1);Yb("Firebase.offAuth",2,b);this.j.W.Yb("auth_status",a,b)};M.prototype.offAuth=M.prototype.Yf;M.prototype.Df=function(a,b,c){G("Firebase.authWithCustomToken",2,3,arguments.length);kc("Firebase.authWithCustomToken",a);I("Firebase.authWithCustomToken",2,b,!1);mc("Firebase.authWithCustomToken",3,c,!0);uf(this.j.W,a,{},c||{},b)};M.prototype.authWithCustomToken=M.prototype.Df;
M.prototype.Ef=function(a,b,c){G("Firebase.authWithOAuthPopup",2,3,arguments.length);lc("Firebase.authWithOAuthPopup",1,a);I("Firebase.authWithOAuthPopup",2,b,!1);mc("Firebase.authWithOAuthPopup",3,c,!0);zf(this.j.W,a,c,b)};M.prototype.authWithOAuthPopup=M.prototype.Ef;
M.prototype.Ff=function(a,b,c){G("Firebase.authWithOAuthRedirect",2,3,arguments.length);lc("Firebase.authWithOAuthRedirect",1,a);I("Firebase.authWithOAuthRedirect",2,b,!1);mc("Firebase.authWithOAuthRedirect",3,c,!0);var d=this.j.W;xf(d);var e=[nf],f=We(c);"anonymous"===a||"firebase"===a?B(b,U("TRANSPORT_UNAVAILABLE")):(wa.set("redirect_client_options",f.ad),yf(d,e,"/auth/"+a,f,b))};M.prototype.authWithOAuthRedirect=M.prototype.Ff;
M.prototype.Gf=function(a,b,c,d){G("Firebase.authWithOAuthToken",3,4,arguments.length);lc("Firebase.authWithOAuthToken",1,a);I("Firebase.authWithOAuthToken",3,c,!1);mc("Firebase.authWithOAuthToken",4,d,!0);p(b)?(lc("Firebase.authWithOAuthToken",2,b),wf(this.j.W,a+"/token",{access_token:b},c)):(mc("Firebase.authWithOAuthToken",2,b,!1),wf(this.j.W,a+"/token",b,c))};M.prototype.authWithOAuthToken=M.prototype.Gf;
M.prototype.Cf=function(a,b){G("Firebase.authAnonymously",1,2,arguments.length);I("Firebase.authAnonymously",1,a,!1);mc("Firebase.authAnonymously",2,b,!0);wf(this.j.W,"anonymous",{},a)};M.prototype.authAnonymously=M.prototype.Cf;
M.prototype.Hf=function(a,b,c){G("Firebase.authWithPassword",2,3,arguments.length);mc("Firebase.authWithPassword",1,a,!1);nc("Firebase.authWithPassword",a,"email");nc("Firebase.authWithPassword",a,"password");I("Firebase.authAnonymously",2,b,!1);mc("Firebase.authAnonymously",3,c,!0);wf(this.j.W,"password",a,b)};M.prototype.authWithPassword=M.prototype.Hf;
M.prototype.he=function(a,b){G("Firebase.createUser",2,2,arguments.length);mc("Firebase.createUser",1,a,!1);nc("Firebase.createUser",a,"email");nc("Firebase.createUser",a,"password");I("Firebase.createUser",2,b,!1);this.j.W.he(a,b)};M.prototype.createUser=M.prototype.he;M.prototype.Ge=function(a,b){G("Firebase.removeUser",2,2,arguments.length);mc("Firebase.removeUser",1,a,!1);nc("Firebase.removeUser",a,"email");nc("Firebase.removeUser",a,"password");I("Firebase.removeUser",2,b,!1);this.j.W.Ge(a,b)};
M.prototype.removeUser=M.prototype.Ge;M.prototype.ce=function(a,b){G("Firebase.changePassword",2,2,arguments.length);mc("Firebase.changePassword",1,a,!1);nc("Firebase.changePassword",a,"email");nc("Firebase.changePassword",a,"oldPassword");nc("Firebase.changePassword",a,"newPassword");I("Firebase.changePassword",2,b,!1);this.j.W.ce(a,b)};M.prototype.changePassword=M.prototype.ce;
M.prototype.He=function(a,b){G("Firebase.resetPassword",2,2,arguments.length);mc("Firebase.resetPassword",1,a,!1);nc("Firebase.resetPassword",a,"email");I("Firebase.resetPassword",2,b,!1);this.j.W.He(a,b)};M.prototype.resetPassword=M.prototype.He;M.goOffline=function(){G("Firebase.goOffline",0,0,arguments.length);rh.Mb().tb()};M.goOnline=function(){G("Firebase.goOnline",0,0,arguments.length);rh.Mb().ec()};
function qb(a,b){x(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?ob=q(console.log,console):"object"===typeof console.log&&(ob=function(a){console.log(a)})),b&&wa.set("logging_enabled",!0)):a?ob=a:(ob=null,wa.remove("logging_enabled"))}M.enableLogging=qb;M.ServerValue={TIMESTAMP:{".sv":"timestamp"}};M.SDK_VERSION="1.2.0-beta.1";M.INTERNAL=Y;M.Context=rh;M.TEST_ACCESS=$;})();
module.exports = Firebase;
